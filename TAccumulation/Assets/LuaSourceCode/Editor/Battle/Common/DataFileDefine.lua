---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by canglan.
--- DateTime: 2022/4/1 11:44
---

---@class DataFile

---@class DataFileType
DataFileType =
{
    Buff = 1,
    Trigger = 2,
    DamageBox = 3,
    BuffOperation = 4,
}

-- 用于外部模块拼字符串找文件用
---@class FileType2LuaDirectory
FileType2LuaDirectory = {
    [DataFileType.Buff] = "Config.Battle.FsmMaker.DataFile.Buff.",
    [DataFileType.Trigger] = "Config.Battle.FsmMaker.DataFile.Trigger.",
    [DataFileType.DamageBox] = "Config.Battle.FsmMaker.DataFile.DamageBox.",
    [DataFileType.BuffOperation] = "Config.Battle.FsmMaker.DataFile.BuffOperation.",
}

---@enum match 1
---@class DataBuffType
DataBuffType =
{
    Normal = 1,
}

---@enum match 2
---@class DataTriggerType
DataTriggerType =
{
    Normal = 1,
}

---@enum match 3
---@class DataDamageBoxType
DataDamageBoxType =
{
    Normal = 1,
}

---@enum match 4
---@class DataBuffOperationType
DataBuffOperationType =
{
    Normal = 1,
}

---------以上为数据枚举以及基础数据，后面可新增类型-----

---@class DataFileBase
---@field Type DataFileType
---@field SubType DataBuffType|DataTriggerType|DataDamageBoxType|DataBuffOperationType
---@field ID Int

---------以下为暂定测试使用，后面会给相关人去维护------

------------------------------------------------------Buff 配置 ------------------------------------------------------
---@class DataBuffLevel:DataFileBase
---@field Level Int
---@field Name string
---@field FxID Int
---@field Filename string 文件名
---@field DamageBoxIDs Array|Int
---@field DamageIDs Array|Int
---@field EffectType Int
---@field TriggerID Int 逻辑触发器ID
---@field FailTriggerID Int 失效触发器ID，如果触发，则buff会被清除
---@field Time Int 持续时间，如果时间到了，则删除buff。nil则表示无限时间，
---@field StackType Int buff堆叠类型
---@field MaxStackCount Int 最大堆叠层数
---@field SkillMark Array|Int buff标识
---@field ActorStateTags Array|Int buff标识
---@field IconFlag bool 是否需要显示图标
---@field IconLevel Int 图标排序优先级
---@field TemplateArg table

---@match 1-1
---@class DataBuffLevelNormal:DataBuffLevel


-------------------------------------------------------Trigger配置--------------------------------------------------
---@class DataTrigger:DataFileBase
---@field Name string 名称，调试用
---@field Filename string 文件名，用于资源加载
---@field Count Int 触发次数
---@field CD Fix 冷却时间
---@field TemplateArg table

---@match 2-1
---@class DataTriggerNormal:DataTrigger


-----------------------------------------------------DamageBox配置------------------------------------------------
---@class DataDamageBox:DataFileBase
---@field ShapeType Int shape的类型
---@field Length Fix x轴 / 胶囊中间矩形的长
---@field Width Fix z轴
---@field Height Fix y轴
---@field Radius Fix 半径
---@field RotateType Int  横向胶囊还是纵向胶囊
---@field Angle Fix 扇形角度
---@field Offset FVector3 距原点坐标的偏移量
---@field ShapeArg1 Fix  等于0时是目标， 非0是自己
---@field Radius Fix
---@field Angle Fix
---@field MountType Int
---@field Offset FVector3
---@field AngleY Fix 偏转角度
---@field RigidPoint Int
---@field HurtActionID Int
---@field UseAnimTime boolean 是否使用动画时长，使用动画时HurtTime 失效
---@field HurtTime Fix
---@field HurtBackDistance Fix
---@field HurtBackTime Fix
---@field HurtFaceToTarget boolean
---@field HurtFXID Int
---@field HurtSound String
---@field RigidBreak Int
---@field FxFreezeFrame boolean 命中特效是否定帧
---@field HitTimeScale Fix 受击后攻击者的时间缩放
---@field HitScaleDuration Fix 受击后攻击者的时间缩放持续多久
---@field HurtTimeScale Fix 受击后受击者的时间缩放
---@field FreezeFrameDelay Fix 命中特效定帧延迟
---@field HurtScaleDuration Fix 受击后受击者的时间缩放持续多久
---@field HurtShakeIndex Int 受击抖动强度（0,1,2共三挡）
---@field HurtShakeType Int 受击抖动类型（-1表示整体抖动，0表示局部骨骼抖动）
---@field HurtScarID Int
---@field HurtScarAngle Int
---@field PlayHurtFXMat boolean
---@field BuffOperationIDs Array|Int buff操作ID列表，关联到BuffOperationConfig表
---@field RandomHurtFxType Int BattleFXRandomHurtType 随机类型
---@field RandomHurtFxRadius Fix 随机类型参数
---@field RandomFloatWordRadius Fix 飘字随机类型参数
---@field HugeDamage boolean 女主普通伤害时是否是高额伤害
---@field HurtFxSpeed Array|Fix 粒子速度，随机0~1
---@field NoDamage boolean 不造成伤害
---@field Duration  Fix 持续时间
---@field CheckMode Int DamageBoxCheckMode 判定模式
---@field Period Fix 周期
---@field BoxDamageIDIndex Int 伤害ID序号
---@field ModifyWeight Int 伤害权重数值
---@field BoxMaxHit Int 最大次数
---@field FollowMode Int 跟随模式
---@field FactionRelationship Int 阵营关系

---@match 3-1
---@class DataDamageBoxNormal:DataDamageBox


-----------------------------------------------------BuffOperation配置------------------------------------------------
---@class DataBuffOperation:DataFileBase
---@field OperationType Int
---@field BuffID Array|Int
---@field BuffLevel Array|Int
---@field MountType Int
---@field BuffTime Array|Fix 持续时间
---@field UseSkillLevel boolean

---@match 4-1
---@class DataBuffOperationNormal:DataBuffOperation