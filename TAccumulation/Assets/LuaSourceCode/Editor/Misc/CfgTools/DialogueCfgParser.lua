---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by Administrator.
--- DateTime: 2021/4/14 17:38
---
require("Editor.Misc.CfgTools.BaseCfgHandler")
if not Application or Application.IsPlaying() == false then
    require("Editor.Misc.CfgTools.CfgTypeDefine")
end
require("Runtime.Common.Utils.LuaUtil")

local asset_path = CS.UnityEngine.Application.dataPath
---@class DialogueCfgParser
DialogueCfgParser = class("DialogueCfgParser")

LUA_CFG_PATH = string.gsub(asset_path,"Client/Assets","Binaries/Tables/LuaCfg/")
os.remove = CS.System.IO.File.Delete
io.writefile = CS.System.IO.File.WriteAllText

function DialogueCfgParser:ParseFile(name)
    local t = LuaUtil.ReloadLua("LuaCfg.DialogueCfg."..name)
    BaseCfgHandler:WriteFile(LUA_CFG_PATH.."DialogueCfg/"..name..".lua", t , nil, true)
end

return DialogueCfgParser