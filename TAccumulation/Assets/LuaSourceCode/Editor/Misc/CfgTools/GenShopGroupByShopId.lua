---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by muchen.
--- DateTime: 2022/12/16 14:39
---@class GenShopGroupByShopId:BaseCfgHandler
local GenShopGroupByShopId = class("GenShopGroupByShopId", BaseCfgHandler)

function GenShopGroupByShopId:Execute()
    local allShopGroup = LuaCfgMgr.GetAll("ShopGroup")
    local retTab = {}
    for k, v in pairs(allShopGroup) do
        if retTab[v.ShopID] == nil then
            retTab[v.ShopID] = {}
        end
        table.insert(retTab[v.ShopID], v)
    end
    for k, v in pairs(retTab) do
        table.sort(v, function(a, b)
            if a.NoID ~= b.NoID then
                return a.NoID < b.NoID
            end
            return a.ID < b.ID
        end)
    end
    self:WriteFile(LUA_CFG_PATH .. "ShopGroupByShopId.lua", retTab, true)
end

return GenShopGroupByShopId