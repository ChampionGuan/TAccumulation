---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by jiaozhu.
--- DateTime: 2021/12/23 16:08
--- image控制类[Image,RawImage]

local cs_ui_util = CS.X3Game.UIUtility

---设置Image或者ConvasGroup透明度
---@param obj UObject
---@param alpha float 透明度（0=完全透明，1=完全不透明）
function UIUtil.SetAlpha(obj, alpha)
    if (obj ~= nil) then
        cs_ui_util.SetAlpha(obj, alpha)
    end
end

---设置Image的Sprite(自动检索sprite_name是否在对应的sprite_atlas下)
---@param obj UObject
---@param sprite_name string
---@param atlas_name string
---@param use_native_size boolean default false
function UIUtil.SetImage(obj, sprite_name, atlas_name, use_native_size)
    if (obj ~= nil) then
        use_native_size = use_native_size or false
        local is_path = false
        sprite_name, atlas_name, is_path = GameUtil.GetSpriteAndAtlasNames(sprite_name)
        if is_path then
            cs_ui_util.SetImage(obj, sprite_name, use_native_size)
        else
            cs_ui_util.SetImage(obj, sprite_name, atlas_name, use_native_size)
        end
    end
end

---异步设置Image的Sprite
---@param obj UObject
---@param sprite_name string
---@param atlas_name string
---@param use_native_size boolean default false
function UIUtil.SetImageAsync(obj, sprite_name, atlas_name, use_native_size)
    if (obj ~= nil) then
        use_native_size = use_native_size or false
        local is_path = false
        sprite_name, atlas_name, is_path = GameUtil.GetSpriteAndAtlasNames(sprite_name)
        if is_path then
            cs_ui_util.SetImageAsync(obj, sprite_name, use_native_size)
        else
            cs_ui_util.SetImageAsync(obj, sprite_name, atlas_name, use_native_size)
        end

    end
end

---设置MeshRenderer的MainTexture
---@param obj UObject
---@param sprite_name string
---@param atlas_name string
function UIUtil.SetMainTexture(obj, sprite_name, atlas_name)
    if (obj ~= nil) then
        local is_path = false
        sprite_name, atlas_name, is_path = GameUtil.GetSpriteAndAtlasNames(sprite_name)
        cs_ui_util.SetMainTexture(obj, sprite_name, atlas_name)
    end
end

---异步设置MeshRenderer的MainTexture
---@param obj UObject
---@param sprite_name string
---@param atlas_name string
function UIUtil.SetMainTextureAsync(obj, sprite_name, atlas_name)
    if (obj ~= nil) then
        local is_path = false
        sprite_name, atlas_name, is_path = GameUtil.GetSpriteAndAtlasNames(sprite_name)
        cs_ui_util.SetMainTextureAsync(obj, sprite_name, atlas_name)
    end
end

---根据当前Sprite设置图片尺寸
---@param obj UObject
function UIUtil.SetNativeSize(obj)
    if obj ~= nil then
        cs_ui_util.SetNativeSize(obj)
    end
end

---设置image的RaycastTarget
---@param obj UObject
---@param enabled bool
function UIUtil.SetRaycastTarget(obj, enabled)
    if obj ~= nil then
        cs_ui_util.SetRaycastTarget(obj, enabled)
    end
end

---设置Image的Sprite(自动检索sprite_name是否在对应的sprite_atlas下)
---@param obj UObject
---@param sprite_name string
---@param atlas_name string
---@param use_native_size boolean default false
function UIUtil.TrySetImage(obj, sprite_name, atlas_name, use_native_size)
    if (obj ~= nil) then
        use_native_size = use_native_size or false
        local is_path = false
        sprite_name, atlas_name, is_path = GameUtil.GetSpriteAndAtlasNames(sprite_name)
        if is_path then
            cs_ui_util.TrySetImage(obj, sprite_name, use_native_size)
        else
            cs_ui_util.TrySetImage(obj, sprite_name, atlas_name, use_native_size)
        end
    end
end
---异步设置Image的Sprite
---@param obj UObject
---@param sprite_name string
---@param atlas_name string
---@param use_native_size boolean default false
function UIUtil.TrySetImageAsync(obj, sprite_name, atlas_name, use_native_size)
    if (obj ~= nil) then
        use_native_size = use_native_size or false
        local is_path = false
        sprite_name, atlas_name, is_path = GameUtil.GetSpriteAndAtlasNames(sprite_name)
        if is_path then
            cs_ui_util.TrySetImageAsync(obj, sprite_name, use_native_size)
        else
            cs_ui_util.TrySetImageAsync(obj, sprite_name, atlas_name, use_native_size)
        end

    end
end