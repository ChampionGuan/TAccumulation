---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by jiaozhu.
--- DateTime: 2021/12/23 16:32
---Button,X3Button,SwitchButton,ToggleButton

local cs_ui_util = CS.X3Game.UIUtility

---添加Button回调
---@param obj UObject
---@param onclick fun(type:GameObject) 点击回调方法
---@param onTouchDown fun(type:GameObject) 按下回调方法
---@param onTouchUp fun(type:GameObject) 弹起回调方法
---@param onTouchExit fun(type:GameObject) 移出回调方法
function UIUtil.AddButtonListener(obj, onclick, onTouchDown, onTouchUp, onTouchExit)
    if obj == nil then
        return
    end
    local id = UIUtil.GetComponentID(obj,UIUtil.UIEventType.Button)
    if onclick~=nil then
        UIUtil.UIEventDelegateHelper.RegisterEventDelegate(id,UIUtil.UIEventType.Button,UIUtil.UIEventHandlerType.Button_OnClick,onclick)
    end
    if onTouchDown~=nil then
        UIUtil.UIEventDelegateHelper.RegisterEventDelegate(id,UIUtil.UIEventType.Button,UIUtil.UIEventHandlerType.Button_OnTouchDown,onTouchDown)
    end
    if onTouchUp~=nil then
        UIUtil.UIEventDelegateHelper.RegisterEventDelegate(id,UIUtil.UIEventType.Button,UIUtil.UIEventHandlerType.Button_OnTouchUp,onTouchUp)
    end
    if onTouchExit~=nil then
        UIUtil.UIEventDelegateHelper.RegisterEventDelegate(id,UIUtil.UIEventType.Button,UIUtil.UIEventHandlerType.Button_OnTouchExit,onTouchExit)
    end
end

---移除Button回调
---@param obj UObject
---@param cb fun(type:UObject) 回调方法（若为nill）则清除该Button所有回调
function UIUtil.RemoveButtonListener(obj, cb)
    if obj == nil then
        return
    end
    local id = UIUtil.GetComponentID(obj,UIUtil.UIEventType.Button)
    UIUtil.UIEventDelegateHelper.UnregisterEventDelegate(id,UIUtil.UIEventType.Button)
end

---添加switch的回调
---@param btn UObject
---@param call fun(type:GameObject,type:boolean)
function UIUtil.AddSwitchButtonListener(btn, call)
    if btn == nil then
        return
    end
    local id = UIUtil.GetComponentID(btn,UIUtil.UIEventType.SwitchButton)
    UIUtil.UIEventDelegateHelper.RegisterEventDelegate(id,UIUtil.UIEventType.SwitchButton,UIUtil.UIEventHandlerType.SwitchButton_OnValueChanged,call)
end

---@param obj UObject
---@param cb fun(sender:ToggleButton, selected:boolean)
function UIUtil.AddToggleButtonListener(obj, cb)
    if btn == nil then
        return
    end
    cs_ui_util.AddToggleButtonListener(obj, cb)
end

---@param obj UObject
---@param cb fun(newValue:int, oldValue:int)
function UIUtil.AddToggleButtonGroupListener(obj, cb)
    cs_ui_util.AddToggleButtonGroupListener(obj, cb)
end

---@param cmp UObject
---@param long_press_call fun(type:GameObject,type:int)
function UIUtil.AddLongPressListener(cmp, long_press_call)
    local id = UIUtil.GetComponentID(cmp,UIUtil.UIEventType.LongPressHandler)
    UIUtil.UIEventDelegateHelper.RegisterEventDelegate(id,UIUtil.UIEventType.LongPressHandler,UIUtil.UIEventHandlerType.LongPressHandler_OnLongPress,long_press_call)
end

---设置button是否可以点击
---@param obj UObject
---@param isEnabled boolean
function UIUtil.SetButtonEnabled(obj,isEnabled)
    if obj~=nil then
        cs_ui_util.SetButtonEnabled(obj,isEnabled or false)
    end
end