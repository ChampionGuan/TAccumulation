---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by jiaozhu.
--- DateTime: 2023/6/6 11:26
---
---@alias UComponent.Dropdown UComponent.LoadOrSetMenu | _UDropdown
---@class _UDropdown:UComponent.SetOrGetValue
local Dropdown = class("Dropdown", Framework.Parser.UComponentParser:GetComponent(UComponent.SetOrGetValue))
Framework.Parser.UComponentParser:BindComponentHandler(UComponent.LoadOrSetMenu, Dropdown)

---@param onValueChanged fun(type:X3DropDown,type:int,type:int)
---@param onCellLoad fun(type:X3DropDown,type:GameObject,type:int)
---@param onValueWillChange fun(type:X3DropDown,type:int,type:int):bool
function Dropdown:SetListener(onValueChanged, onCellLoad, onValueWillChange)
    local id = self:GetComponentID(self.UIEventType.Dropdown)
    local res = (onValueChanged or onCellLoad or onValueWillChange) ~= nil
    if res then
        if onValueChanged ~= nil then
            self:_RegisterEventDelegate(id, self.UIEventType.Dropdown, self.UIEventHandlerType.Dropdown_OnValueChanged, onValueChanged)
        end
        if onCellLoad ~= nil then
            self:_RegisterEventDelegate(id, self.UIEventType.Dropdown, self.UIEventHandlerType.Dropdown_OnCellLoad, onCellLoad)
        end
        if onValueWillChange ~= nil then
            self:_RegisterEventDelegate(id, self.UIEventType.Dropdown, self.UIEventHandlerType.Dropdown_OnValueWillChange, onValueWillChange)
        end
    else
        self:_UnregisterEventDelegate(id, self.UIEventType.Dropdown)
    end
end

---修改状态
function Dropdown:ChangeState()
    self:_InvokeFunc("ChangeState")
end

return Dropdown