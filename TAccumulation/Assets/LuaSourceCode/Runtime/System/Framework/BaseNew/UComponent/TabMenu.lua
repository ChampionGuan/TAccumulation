---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by jiaozhu.
--- DateTime: 2023/6/5 21:33
---
---TabMenu组件
---@alias UComponent.TabMenu UComponent.LoadOrSetMenu | _TabMenu
---@class _TabMenu:UComponent.SetOrGetValue
local TabMenu = class("TabMenu", Framework.Parser.UComponentParser:GetComponent(UComponent.SetOrGetValue))
Framework.Parser.UComponentParser:BindComponentHandler(UComponent.LoadOrSetMenu, TabMenu)

---设置TabMenu事件回调
---@param onValueChanged fun(type:TabMenu,type:int,type:int) UnityAction<TabMenu, int(new idx), int(old idx)> 菜单选中发生变化
---@param onCellLoad fun(type:TabMenu,type:GameObject,type:int) UnityAction<TabMenu, GameObject, int(idx)> 加载菜单
---@param onValueWillChange fun(sender:TabMenu,newValue:int,oldValue:int):boolean Func<int(new idx), int(old idx), bool(是否可以切换)>> 判断是否改变TabCell的状态, 结果值为false不会切换
function TabMenu:SetListener(onValueChanged, onCellLoad, onValueWillChange)
    local id = self:GetComponentID(self.UIEventType.TabMenu)
    local res = (onValueChanged or onCellLoad or checkCellSwitch) ~= nil
    if res then
        if onValueChanged ~= nil then
            self:_RegisterEventDelegate(id, self.UIEventType.TabMenu, self.UIEventHandlerType.TabMenu_OnValueChanged, onValueChanged)
        end
        if onCellLoad ~= nil then
            self:_RegisterEventDelegate(id, self.UIEventType.TabMenu, self.UIEventHandlerType.TabMenu_OnCellLoad, onCellLoad)
        end
        if onValueWillChange ~= nil then
            self:_RegisterEventDelegate(id, self.UIEventType.TabMenu, self.UIEventHandlerType.TabMenu_OnValueWillChange, onValueWillChange)
        end
    else
        self:_UnregisterEventDelegate(id, self.UIEventType.TabMenu)
    end
end

---@param idx int
---@param withAni boolean
---@param sendCallback boolean
function TabMenu:ScrollToCell(idx, withAni, sendCallback)
    self:_InvokeFunc("ScrollToTabCell", idx, withAni, sendCallback)
end

return TabMenu