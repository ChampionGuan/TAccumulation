---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by jiaozhu.
--- DateTime: 2023/6/5 22:48
---
---拖拽组件
---@class UComponent.DragHandler:UComponent.BaseComponent
local DragHandler = class("DragHandler", Framework.BaseComponent)

---添加DragHandler的onDrag回调
---支持DragHandler
---@param onDrag fun(type:PointerEventData,type:float,type:float)
---@param onPointerDown fun(type:PointerEventData,type:float,type:float)
---@param onPointerUp fun(type:PointerEventData,type:float,type:float)
function DragHandler:SetListener(onDrag, onPointerDown, onPointerUp)
    local id = self:GetComponentID(self.UIEventType.DragHandler)
    local res = (onDrag or onPointerDown or onPointerUp) ~= nil
    if res then
        if onDrag ~= nil then
            self:_RegisterEventDelegate(id, self.UIEventType.DragHandler, self.UIEventHandlerType.DragHandler_OnDrag, onDrag)
        end

        if onPointerDown ~= nil then
            self:_RegisterEventDelegate(id, self.UIEventType.DragHandler, self.UIEventHandlerType.DragHandler_OnPointerDown, onPointerDown)
        end

        if onPointerUp ~= nil then
            self:_RegisterEventDelegate(id, self.UIEventType.DragHandler, self.UIEventHandlerType.DragHandler_OnPointerUp, onPointerUp)
        end
    else
        self:_UnregisterEventDelegate(id, self.UIEventType.DragHandler)
    end

end

return DragHandler
