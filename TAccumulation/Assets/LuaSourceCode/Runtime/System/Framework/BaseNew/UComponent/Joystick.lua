---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by jiaozhu.
--- DateTime: 2023/6/5 21:47
---
---Joystick组件
---@class UComponent.Joystick:UComponent.BaseComponent
local Joystick = class("Joystick", Framework.BaseComponent)

---@param onJoystickDown fun(type:PointerEventData)
---@param onJoystickUp fun(type:PointerEventData)
---@param onJoystickDrag fun(dirX:float,dirY:float)
---@param onJoystickUpdate fun(dirX:float,dirY:float)
---@param onJoystickLateUpdate fun(dirX:float,dirY:float)
---@param onJoystickFixUpdate fun(dirX:float,dirY:float)
function Joystick:SetListener(onJoystickDown, onJoystickDrag, onJoystickUp, onJoystickUpdate, onJoystickLateUpdate, onJoystickFixUpdate)
    local id = self:GetComponentID(self.UIEventType.Joystick)
    local res = (onJoystickDown or onJoystickDrag or onJoystickUp or onJoystickUpdate or onJoystickLateUpdate or onJoystickFixUpdate) ~= nil
    if res then
        if onJoystickDown ~= nil then
            self:_RegisterEventDelegate(id, self.UIEventType.Joystick, self.UIEventHandlerType.Joystick_OnJoystickDown, onJoystickDown)
        end

        if onJoystickDrag ~= nil then
            self:_RegisterEventDelegate(id, self.UIEventType.Joystick, self.UIEventHandlerType.Joystick_OnJoystickDrag, onJoystickDrag)
        end

        if onJoystickUp ~= nil then
            self:_RegisterEventDelegate(id, self.UIEventType.Joystick, self.UIEventHandlerType.Joystick_OnJoystickUp, onJoystickUp)
        end

        if onJoystickUpdate ~= nil then
            self:_RegisterEventDelegate(id, self.UIEventType.Joystick, self.UIEventHandlerType.Joystick_OnJoystickUpdate, onJoystickUpdate)
        end

        if onJoystickLateUpdate ~= nil then
            self:_RegisterEventDelegate(id, self.UIEventType.Joystick, self.UIEventHandlerType.Joystick_OnJoystickLateUpdate, onJoystickLateUpdate)
        end

        if onJoystickFixUpdate ~= nil then
            self:_RegisterEventDelegate(id, self.UIEventType.Joystick, self.UIEventHandlerType.Joystick_OnJoystickFixUpdate, onJoystickFixUpdate)
        end
    else
        self:_UnregisterEventDelegate(id, self.UIEventType.Joystick)
    end
end


---添加Joystick的onEnterWalkArea&onExitWalkArea回调
---支持Joystick

---@param onEnterWalkArea fun()
---@param onExitWalkArea fun()
function Joystick:SetWalkAreaListener(onEnterWalkArea, onExitWalkArea)
    self:_InvokeFunc("AddJoystickWalkAreaListener", onEnterWalkArea, onExitWalkArea)
end

return Joystick