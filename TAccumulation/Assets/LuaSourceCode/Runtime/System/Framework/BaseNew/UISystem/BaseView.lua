---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by jiaozhu.
--- DateTime: 2023/6/6 20:41
---所有view的基类

---@class Framework.BaseView:UComponent.BaseComponent
---@field private ctrl Framework.GameObjectCtrl
---@field private owner Framework.GameObjectCtrl
---@field private __template__ table
---@field private __comps__ table<string,int> | table<string,int[]>
---@field private __views__ table<string,int>
---@field private __self_comps__ int[]
local BaseView = class("BaseView", Framework.BaseComponent)

--region 操作函数
---@class X3Game.Ctrl.UseArgName1
---@param ctrlType X3Game.CtrlType
---@param owner Framework.GameObjectCtrl
---@return X3Game.Ctrl.UseArgName1
function BaseView:GetOrAddCtrl(ctrlType, owner)
    local ctrl = self.ctrl
    if ctrl then
        return ctrl
    end
    ctrl = Framework.Parser.CtrlParser:Bind(self, ctrlType, true)
    ctrl:SetLinker(self:GetLinker())
    Framework.Parser.CtrlParser:BindView(ctrl, self)
    if UNITY_EDITOR then
        Framework.AttachByType(self:GetLinker(), ctrlType)
    end
    ctrl:SetOwner(self:GetComponent(UComponentType.GameObject), owner)
    return self.ctrl
end

---设置是否可以点击
---@param isEnable boolean
function BaseView:SetTouchEnable(isEnable)
    self:_InvokeFunc("SetTouchEnable", isEnable)
end

--endregion


--region 底层调用

---@private
---@param ctrl Framework.UICtrl
function BaseView:SetCtrl(ctrl)
    self.ctrl = ctrl
    self:BindListener()
end

---@private
---@return Framework.UICtrl
function BaseView:GetCtrl()
    return self.ctrl
end

---@private
function BaseView:BindListener()

end

---@private
---@return PapeGames.X3UI.ObjLinker
function BaseView:GetLinker()
    return self.objLinker or self.ctrl:GetLinker()
end

---@private
function BaseView:Init()

end

---@private
function BaseView:Destroy()
    Framework.BaseComponent.Destroy(self)
    Framework.UnBindTarget(self)
    table.clear(self)
end

--endregion
return BaseView