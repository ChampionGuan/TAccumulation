---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by junjun003.
--- DateTime: 2023/9/23 13:08
---
---@class DialogueSceneFxAction:DialogueBaseAction
local DialogueSceneFxAction = class("DialogueSceneFxAction", require("Runtime.System.X3Game.Modules.Dialogue.Action.DialogueBaseAction"), nil, true)

---ActionInit
---@param cfg DialogueActionCfg
function DialogueSceneFxAction:OnInit(cfg)
    self.super.OnInit(self, cfg)
    ---@type DialogueSceneFxData[]
    self.playList = cfg.playList
    ---@type DialogueSceneFxData[]
    self.stopList = cfg.stopList
end

---ActionEnter
function DialogueSceneFxAction:OnEnter()
    if self.playList then
        for _, sceneFxData in pairs(self.playList) do
            SceneMgr.PlaySceneFx(sceneFxData.fxName, nil, sceneFxData.fadeDuration)
        end
    end
    if self.stopList then
        for _, sceneFxData in pairs(self.stopList) do
            SceneMgr.StopSceneFx(sceneFxData.fxName, nil, sceneFxData.fadeDuration)
        end
    end
end

return DialogueSceneFxAction