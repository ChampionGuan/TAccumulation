---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by junjun003.
--- DateTime: 2023/8/25 15:48
---

local DialogueCaptureScreenAction = class("DialogueCaptureScreenAction", require("Runtime.System.X3Game.Modules.Dialogue.Action.DialogueBaseAction"), nil ,true)

---@param cfg
function DialogueCaptureScreenAction:OnInit(cfg)
    self.super.OnInit(self, cfg)
    self.captureCpl = false
end

---ActionEnter
function DialogueCaptureScreenAction:OnEnter()
    UICommonUtil.SetCaptureEnable(true, handler(self, self.OnCaptureCpl))
end

---截图完毕
function DialogueCaptureScreenAction:OnCaptureCpl()
    self.captureCpl = true
end

---Process函数
---@param progress float
function DialogueCaptureScreenAction:OnProcess(progress)
    if self.captureCpl then
        return DialogueEnum.UpdateActionState.Complete
    else
        return DialogueEnum.UpdateActionState.Running
    end
end

return DialogueCaptureScreenAction