---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by canghai.
--- DateTime: 2022/12/11 12:05
---

---@class X3DataSafety
local X3DataSafety = {}
---是否进行安全检查
local IsEnableSafetyCheck = false
if UNITY_EDITOR then
    IsEnableSafetyCheck = true
end

---@param x3DataType string
---@param operate string
---@return boolean
function X3DataSafety.X3DataTypeCheck(x3DataType, operate)
    if type(x3DataType) ~= "string" or X3DataConst.X3Data[x3DataType] == nil then
        Debug.LogErrorFormatWithTag(GameConst.LogTag.X3DataSys, "X3DataMgr.%s 失败，传入的 x3DataType为 %s!!!", operate, x3DataType)
        return false
    end
    
    return true
end

---@param primaryValue any
---@param operate string
---@return boolean
function X3DataSafety.X3DataPrimaryCheck(primaryValue, operate)
    local primaryType = type(primaryValue)
    if primaryType ~= "string" then
        if primaryType ~= "number" then
            Debug.LogErrorFormatWithTag(GameConst.LogTag.X3DataSys, "X3DataMgr.%s 失败，primaryValue的类型不是 integer or string!!!", operate)
            return false
        else
            primaryType = math.type(primaryValue)
            if primaryType ~= "integer" then
                Debug.LogErrorFormatWithTag(GameConst.LogTag.X3DataSys, "X3DataMgr.%s 失败，primaryValue的类型不是 integer or string!!!", operate)
                return false
            end
        end
    end
    
    return true
end

---@param value boolean 是否开启安全检查
function X3DataSafety.SetIsEnableSafetyCheck(value)
    IsEnableSafetyCheck = value
end

---@return boolean 返回是否需要进行安全检查
function X3DataSafety.GetIsEnableSafetyCheck()
    return IsEnableSafetyCheck
end

function X3DataSafety.Clear()
    IsEnableSafetyCheck = false
    if UNITY_EDITOR then
        IsEnableSafetyCheck = true
    end
end

return X3DataSafety