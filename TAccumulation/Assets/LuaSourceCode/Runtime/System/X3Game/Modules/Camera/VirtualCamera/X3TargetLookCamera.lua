---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by chaoguan.
--- DateTime: 2021/5/11 19:36
---

local X3Camera = CS.Cinemachine.X3TargetLookCamera

---@class X3TargetLookCamera:VirtualCameraBase
---@field _x3Camera X3Camera.X3TargetLookCamera
local X3TargetLookCamera = class("X3TargetLookCamera", require("Runtime.System.X3Game.Modules.Camera.Base.VirtualCameraBase"))
X3TargetLookCamera.CineMachineCameraType = CS.Cinemachine.CinemachineVirtualCamera

---@param modePath string
---@param prefabInsOrFullPath UnityEngine.GameObject|string|nil 预设实例、预设完整路径，或者传空
---@param priority CameraPriorityType
function X3TargetLookCamera:ctor(modePath, prefabInsOrFullPath, priority)
    self.super.ctor(self, modePath, prefabInsOrFullPath, priority)
    self._x3Camera = GameObjectUtil.EnsureCSComponent(self._rootG, typeof(X3Camera))
end

---@param fov number
function X3TargetLookCamera:SetFov(fov)
    self._x3Camera.m_fov = fov
end

---@return number
function X3TargetLookCamera:GetFov()
    return self._x3Camera.m_fov
end

---@param isSmooth boolean
function X3TargetLookCamera:SetSmooth(isSmooth)
    self._x3Camera:SetSmooth(isSmooth or false)
end

---@param tgt UnityEngine.Transform
---@param isSmooth boolean
function X3TargetLookCamera:SetFollow(tgt, isSmooth)
    self:SetSmooth(isSmooth)
    self._cineMachineVirtualCamera.Follow = tgt
end

---@param tgt UnityEngine.Transform
---@param isSmooth boolean
function X3TargetLookCamera:SetLookAt(tgt, isSmooth)
    self:SetSmooth(isSmooth)
    self._cineMachineVirtualCamera.LookAt = tgt
end

---@param factor number
function X3TargetLookCamera:SetCameraDistanceFactor(factor)
    self._x3Camera.m_linePCFactor = factor
end

---@param verticalFOV number
function X3TargetLookCamera:SetVerticalFovMode(verticalFOV)
    self._x3Camera.m_verticalFov = verticalFOV or false
end

---@param ratio number 系数
---@param add number 加值
---@param durationIn number
---@param durationKeep number
---@param durationOut number
---@param callBack function
function X3TargetLookCamera:Zoom(ratio, add, durationIn, durationKeep, durationOut, callBack)
    self._x3Camera:Zoom(ratio, add, durationIn, durationKeep, durationOut, callBack)
end

---@param ratio number 系数
---@param add number 加值
---@param duration number
---@param callBack function
function X3TargetLookCamera:ZoomIn(ratio, add, duration, callBack)
    self._x3Camera:ZoomIn(ratio, add, duration, callBack)
end

---@param duration number
---@param callBack function
function X3TargetLookCamera:ZoomOut(duration, callBack)
    self._x3Camera:ZoomOut(duration, callBack)
end

return X3TargetLookCamera