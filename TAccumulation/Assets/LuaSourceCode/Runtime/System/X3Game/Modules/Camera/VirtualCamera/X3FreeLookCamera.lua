---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by chaoguan.
--- DateTime: 2021/5/11 19:27
---

local X3Camera = CS.Cinemachine.X3FreeLookCamera

---@class X3FreeLookCamera:VirtualCameraBase
---@field _x3Camera X3Camera.X3FreeLookCamera
local X3FreeLookCamera = class("X3FreeLookCamera", require("Runtime.System.X3Game.Modules.Camera.Base.VirtualCameraBase"))
X3FreeLookCamera.CineMachineCameraType = CS.Cinemachine.CinemachineVirtualCamera

---@param modePath string
---@param prefabInsOrFullPath UnityEngine.GameObject|string|nil 预设实例、预设完整路径，或者传空
---@param priority CameraPriorityType
function X3FreeLookCamera:ctor(modePath, prefabInsOrFullPath, priority)
    self.super.ctor(self, modePath, prefabInsOrFullPath, priority)
    self._x3Camera = GameObjectUtil.EnsureCSComponent(self._rootG, typeof(X3Camera))
end

---@param fov number
function X3FreeLookCamera:SetFov(fov)
    self._x3Camera.m_fov = fov
end

---@return number
function X3FreeLookCamera:GetFov()
    return self._x3Camera.m_fov
end

---@param isSmooth boolean
function X3FreeLookCamera:SetSmooth(isSmooth)
    self._x3Camera:SetSmooth(isSmooth or false)
end

---@param tgt UnityEngine.Transform
---@param isSmooth boolean
function X3FreeLookCamera:SetFollow(tgt, isSmooth)
    self:SetSmooth(isSmooth)
    self._cineMachineVirtualCamera.Follow = tgt
end

---@param tgt UnityEngine.Transform
---@param isSmooth boolean
function X3FreeLookCamera:SetLookAt(tgt, isSmooth)
    self:SetSmooth(isSmooth)
    self._cineMachineVirtualCamera.LookAt = tgt
end

---@param dir UnityEngine.Vector3
---@param speed number
function X3FreeLookCamera:SetForwardByDir(dir, speed)
    self._x3Camera:SetForward(dir, speed or 0)
end

---@param point UnityEngine.Vector3
---@param speed number
function X3FreeLookCamera:SetForwardByPoint(point, speed)
    self._x3Camera:SetLookAt(point, speed or 0)
end

---@param delta UnityEngine.Vector2
---@param isEnd boolean
function X3FreeLookCamera:SetAxisInputValue(delta, isEnd)
    self._x3Camera:AxisInput(delta, isEnd)
end

---@param factor number
function X3FreeLookCamera:SetCameraDistanceFactor(factor)
    self._x3Camera.m_linePCFactor = factor
end

---@param factor number
function X3FreeLookCamera:SetAxisInputFactor(factor)
    self._x3Camera.m_axisCtrl.m_axisFactor = factor or 1
end

---@param verticalFOV number
function X3FreeLookCamera:SetVerticalFovMode(verticalFOV)
    self._x3Camera.m_verticalFov = verticalFOV or false
end

---@param ratio number 系数
---@param add number 加值
---@param durationIn number
---@param durationKeep number
---@param durationOut number
---@param callBack function
function X3FreeLookCamera:Zoom(ratio, add, durationIn, durationKeep, durationOut, callBack)
    self._x3Camera:Zoom(ratio, add, durationIn, durationKeep, durationOut, callBack)
end

---@param ratio number 系数
---@param add number 加值
---@param duration number
---@param callBack function
function X3FreeLookCamera:ZoomIn(ratio, add, duration, callBack)
    self._x3Camera:ZoomIn(ratio, add, duration, callBack)
end

---@param duration number
---@param callBack function
function X3FreeLookCamera:ZoomOut(duration, callBack)
    self._x3Camera:ZoomOut(duration, callBack)
end

return X3FreeLookCamera