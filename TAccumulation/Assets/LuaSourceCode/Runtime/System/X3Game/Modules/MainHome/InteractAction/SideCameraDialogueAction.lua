---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by fusu.
--- DateTime: 2024/0.1/25 19:26
--- 默认播放剧情的action
---@type MainHome.MainHomeConst
local MainHomeConst = require("Runtime.System.X3Game.Modules.MainHome.Data.MainHomeConst")
---@type MainHome.BaseInteractAction
local BaseAction = require(MainHomeConst.BASE_INTERACT_ACTION)
---@class MainHome.SideCameraDialogueAction:MainHome.BaseInteractAction
local SideCameraDialogueAction = class("SideCameraDialogueAction", BaseAction)

function SideCameraDialogueAction:Enter()
    BaseAction.Enter(self)
    EventMgr.AddListener(MainHomeConst.Event.MAIN_HOME_AI_STATE_CHANGED, self.OnStateChanged ,self)
end

function SideCameraDialogueAction:Begin()
    BaseAction.Begin(self)
    self:PlayDialogue()
end

function SideCameraDialogueAction:Exit()
    BaseAction.Exit(self)
end

function SideCameraDialogueAction:OnStateChanged()
    if self:IsRunning() then
        self.bll:StopAction(self.actionId)
    end
end

return SideCameraDialogueAction