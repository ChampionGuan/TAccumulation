---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by junjun003.
--- DateTime: 2022/9/19 14:27
---

local AICondition = require("Runtime.Plugins.AIDesigner.Base.AITask").AICondition

---Category:Date/BlockTower
---当前【SafeBlockTowerList】组所在层的上一层块的数量
---@class ChooseBlockType:AICondition
---@field isSide boolean 目标块为两侧的块还是中间的块
local ChooseBlockType = class("ChooseBlockType", AICondition)

function ChooseBlockType:OnEnter()
    ---@type BlockTowerGameController
    self.gameController = self.tree:GetVariable("GameController")
    ---@type BlockTowerGameData
    self.gameData = self.gameController:GetGameData()
end

---@return AITaskState
function ChooseBlockType:OnUpdate()
    if self.isSide then
        return self.gameController:IsSideBlock(self.gameData.selectedBlock) and AITaskState.Success or AITaskState.Failure
    else
        return self.gameController:IsSideBlock(self.gameData.selectedBlock) and AITaskState.Failure or AITaskState.Success
    end
end

return ChooseBlockType