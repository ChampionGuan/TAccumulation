---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by junjun003.
--- DateTime: 2021/12/16 11:16
---

local DialogueAction = require("Runtime.System.X3Game.Modules.AIDesigner.Task.Dialogue.Action.DialogueAction")

---Category:Dialogue
---@class DialogueSetVariable:DialogueAction
---@field key int|AIVar 变量Key
---@field value int|AIVar 变量Value
local DialogueSetVariable = class("DialogueSetVariable", DialogueAction)

function DialogueSetVariable:OnUpdate()
    if self.dialogueController ~= nil then
        self.dialogueController:ChangeVariableState(self.key:GetValue(), self.value:GetValue())
        return AITaskState.Success
    else
        Debug.LogError("没有为AI注入DialogueController，请检查。")
        return AITaskState.Failure
    end
end

return DialogueSetVariable
