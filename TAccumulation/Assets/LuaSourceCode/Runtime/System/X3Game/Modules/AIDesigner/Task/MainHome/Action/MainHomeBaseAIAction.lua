---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by jiaozhu.
--- DateTime: 2022/3/5 18:20
---
---@type MainHome.MainHomeConst
local MainHomeConst = require("Runtime.System.X3Game.Modules.MainHome.Data.MainHomeConst")
local AIAction = require("Runtime.Plugins.AIDesigner.Base.AITask").AIAction
---主界面初始化，每次切换场景都会被执行一次
---只执行一次
---Category:MainHome
---@class MainHomeBaseAIAction:AIAction
local MainHomeBaseAIAction = class("MainHomeBaseAIAction", AIAction)
---@type MainHomeActionForEditor
MainHomeBaseAIAction.editorAction = nil
function MainHomeBaseAIAction:OnAwake()
    self.bll = BllMgr.GetMainHomeBLL()
    self.actionDataProxy = self.bll:GetActionDataProxy()
    self:OnAddEvent()
end

---检查是否在列表中
---@param value int
---@param list AIArrayVar
---@return boolean
function MainHomeBaseAIAction:IsInList(value,list)
    for k = 1,list:Count() do
        if list:GetChildValue(k) == value then
            return true
        end
    end
    return false
end

---@param value int
---@param list AIArrayVar
function MainHomeBaseAIAction:RemoveValue(value,list)
    for k = 1,list:Count() do
        if list:GetChildValue(k) == value then
            list:RemoveChild(k)
            break
        end
    end
end

---@param value int
---@param list AIArrayVar
---@return boolean
function MainHomeBaseAIAction:AddValue(value,list)
    if not self:IsInList(value,list) then
        list:AddChildValue(value)
        return true
    end
    return false
end

---@param list AIArrayVar
---@return table
function MainHomeBaseAIAction:GetListValue(list)
    if list:Count()==0 then
        return
    end
    local res = PoolUtil.GetTable()
    for k = 1,list:Count() do
        table.insert(res,list:GetChildValue(k))
    end
    return res
end

function MainHomeBaseAIAction:OnAddEvent()
    
end

function MainHomeBaseAIAction:OnRemoveEvent()
    
end

---@param actionEditor MainHomeActionForEditor
function MainHomeBaseAIAction:SetEditor(actionEditor)
    MainHomeBaseAIAction.editorAction = actionEditor
end


function MainHomeBaseAIAction:OnDestroy()
    EventMgr.RemoveListenerByTarget(self)
end

return MainHomeBaseAIAction
