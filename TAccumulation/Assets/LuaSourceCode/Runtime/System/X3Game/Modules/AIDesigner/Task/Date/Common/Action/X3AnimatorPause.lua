---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by junjun003.
--- DateTime: 2022/6/16 11:06
---

local AIAction = require("Runtime.Plugins.AIDesigner.Base.AITask").AIAction

---Category:Date/Common
---@class X3AnimatorPause:AIAction
---@field avatar AIVar | Object
local X3AnimatorPause = class("X3AnimatorPause", AIAction)

---@return AITaskState
function X3AnimatorPause:OnUpdate()
    ---@type X3Animator 未来如果有需求就动态获取
    self.x3Animator = self:GetAnimator()
    if self.x3Animator then
        self.x3Animator:Pause()
    end
    --CutSceneMgr.PauseWithTag(self.x3Animator:GetInstanceID())
    return AITaskState.Success
end

---@return X3Animator
function X3AnimatorPause:GetAnimator()
    local x3Animator = nil
    local variableActor = self.avatar and self.avatar:GetValue()
    if variableActor ~= nil then
        x3Animator = variableActor:GetComponent("X3Animator")
        if x3Animator == nil then
            x3Animator = variableActor:AddComponent("X3Animator")
        end
    end
    return x3Animator
end

return X3AnimatorPause