---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by jiaozhu.
--- DateTime: 2022/6/11 19:17
--- 选择手牌丢一张
---@type CatCardConst
local CatCardConst = require("Runtime.System.X3Game.Modules.CatCard.Data.CatCardConst")
---@type CatCard.CatCardBaseAction
local BaseAction = require(CatCardConst.BASE_ACTION_PATH_NEW)
---@class CatCard.DiscardCardAction:CatCard.CatCardBaseAction
local DiscardCardAction = class("DiscardCardAction",BaseAction)


---@param action_data CatCard.DiscardCardActionData
function DiscardCardAction:Begin(action_data)
    BaseAction.Begin(self)
    --todo 临时屏蔽效果
    self:End()
    return
    -----@type CatCardData
    --local data = action_data:GetData()
    --local parent_obj = self.logicCtrl:GetDiscardStackNode(action_data:GetPlayerType())
    --local model_name = data:GetCardModel()
    --local model = self:LoadModel(model_name)
    --local speed = action_data:GetSpeed()
    --local slot_stack_node = self.logicCtrl:GetFuncNode(action_data:GetPosIdx())
    --if model and parent_obj then
    --    GameObjectUtil.SetParent(GameObjectUtil.GetComponent(parent_obj,"Transform"),model)
    --    EventMgr.Dispatch(CatCardConst.Event.CAT_CARD_RESET_MODEL,model)
    --    GameObjectUtil.SetLayer(model,Const.LayerMask.RT,true)
    --    self.bll:CheckAnimation(CatCardConst.AnimationType.MOVE_MODEL,CatCardConst.AnimationState.)
    --    self.bll:CheckAnimation(CatCardConst.AnimationType.POPCARD,model,handler(self,self.OnCardMoveEnd),slot_stack_node,speed)
    --else
    --    self:OnCardMoveEnd()
    --    Debug.LogErrorFormat("[喵喵牌]丢弃牌数据错误:卡位置[%s],类型[%s]",action_data:GetPosIdx(),action_data:GetPlayerType())
    --end
    
end

function DiscardCardAction:OnCardMoveEnd()
    self:End()
end


function DiscardCardAction:End()
    BaseAction.End(self)
end

return DiscardCardAction