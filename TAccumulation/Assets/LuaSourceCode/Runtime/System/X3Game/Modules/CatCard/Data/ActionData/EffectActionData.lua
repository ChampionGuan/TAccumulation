---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by jiaozhu.
--- DateTime: 2022/6/2 11:17
--- 特效相关
local CatCardConst = require("Runtime.System.X3Game.Modules.CatCard.Data.CatCardConst")
---@type CatCard.BaseActionData
local BaseActionData = require(CatCardConst.BASE_ACTION_DATA_PATH)
---@class CatCard.EffectActionData:CatCard.BaseActionData
local EffectActionData = class("EffectActionData",BaseActionData)

--region 初始化
function EffectActionData:ctor()
    BaseActionData.ctor(self)
    ---特效状态
    ---@type CatCardConst.EffectState
    self.state = CatCardConst.EffectState.HIDE
    ---特效名称
    ---@type string
    self.effectName = ''
    ---特效的位置索引
    ---@type int
    self.posIndex = 0
    ---特效显示的挂点类型
    ---@type CatCardConst.CardType
    self.cardType = CatCardConst.CardType.CARD
    ---特效显示类型
    ---@type CatCardConst.EffectShowType
    self.showType = CatCardConst.EffectShowType.ByIndex
    ---显示特效的物体
    ---@type GameObject
    self.target = nil
    ---用于区分功能牌的类型（触发全局动效）
    self.funcCardType = CatCardConst.FuncCardType.None
end
--endregion

--region Set
---@param state int
function EffectActionData:SetState(state)
    self.state = state
end

---@param effectName string
function EffectActionData:SetEffectName(effectName)
    self.effectName = effectName
end

---@param posIndex int
function EffectActionData:SetPosIndex(posIndex)
    self.posIndex = posIndex
end

---@param cardType CatCardConst.CardType
function EffectActionData:SetCardType(cardType)
    self.cardType = cardType
end

---@param showType CatCardConst.EffectShowType
function EffectActionData:SetShowType(showType)
    self.showType = showType
end

---@param target GameObject
function EffectActionData:SetTarget(target)
    self.target = target
end

---@param value CatCardConst.FuncCardType
function EffectActionData:SetFuncCardType(value)
    self.funcCardType = value
end
--endregion

--region Get
---@return CatCardConst.Effect
function EffectActionData:GetEffectName()
    return self.effectName
end

---@return CatCardConst.EffectState
function EffectActionData:GetState()
    return self.state
end

---@return int
function EffectActionData:GetPosIdx()
    return self.posIndex
end

---@return CatCardConst.CardType
function EffectActionData:GetCardType()
    return self.cardType
end

---@return CatCardConst.EffectShowType
function EffectActionData:GetShowType()
    return self.showType
end

---@return GameObject
function EffectActionData:GetTarget()
    return self.target
end

---是否是ui特效
---@return boolean
function EffectActionData:IsUI()
    local conf = self:GetEffectConf()
    return conf and conf.is_ui==true
end

---@return string
function EffectActionData:GetEffectParentName()
    local conf = self:GetEffectConf()
    if conf then
        return conf.parent
    end
end

---@return table
function EffectActionData:GetEffectConf()
    return CatCardConst.EffectShowConf[self:GetEffectName()]
end

---@return CatCardConst.FuncCardType
function EffectActionData:GetFuncCardType()
    return self.funcCardType
end
--endregion

---@param state CatCardConst.EffectState
---@param effectName CatCardConst.Effect
---@param posIndex int
---@param cardType CatCardConst.CardType
function EffectActionData:Set(state,effectName,posIndex,cardType)
    self:SetState(state)
    self:SetEffectName(effectName)
    self:SetPosIndex(posIndex)
    self:SetCardType(cardType)
end


function EffectActionData:OnInit()
    self:SetShowType(CatCardConst.EffectShowType.ByIndex)
end

return EffectActionData