---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by pc.
--- DateTime: 2020/8/28 19:38
---
local CatCardConst = require("Runtime.System.X3Game.Modules.CatCard.Data.CatCardConst")
local BaseState = require(CatCardConst.BASE_STATE_PATH)
---@class RollState
local RollState = class("RollState",BaseState)

function RollState:Execute(is_special)
    ---@type CatCardBLL
    self.bll = self.bll
    self:ShowEffect()
end

function RollState:ShowEffect()
    EventMgr.Dispatch(CatCardConst.Event.CAT_CARD_REFRESH_MODELS,CatCardConst.CardType.SLOT,true)
    self:ShowRealCards()
    TimerMgr.AddScaledTimer(CatCardConst.MODEL_APPEAR_UI_EFFECT_DT,self.OnEffectEnd,self)
end

function RollState:OnEffectEnd()
    self.bll:GetStateData():SetEventConversationId(0)
    self.bll:CheckAction(CatCardConst.SpecialType.INIT)
end

return RollState