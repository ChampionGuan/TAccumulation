---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by jiaozhu.
--- DateTime: 2022/6/10 0:58
---
--- 场上卡牌/格子可选表现
---@type CatCardConst
local CatCardConst = require("Runtime.System.X3Game.Modules.CatCard.Data.CatCardConst")
---@type CatCard.TargetFilterAction
local BaseAction = require(CatCardConst.ActionConf[CatCardConst.ActionType.TargetFilter])
---@class CatCard.ShowTargetsStateAction:CatCard.TargetFilterAction
local ShowTargetsStateAction = class("ShowTargetsStateAction",BaseAction)

---@param action_data CatCard.ShowTargetsStateActionData
function ShowTargetsStateAction:Begin(action_data)
    BaseAction.Begin(self,action_data)
    self:CheckState(action_data)
    self:End()
end

---@param action_data CatCard.ShowTargetsStateActionData
function ShowTargetsStateAction:CheckState(action_data)
    local select_state = action_data:GetSelectState()
    self:Foreach(function (card_type,idx,player_type)
        ---@type CatCard.TargetStateActionData
        local action = self.bll:GetActionData(CatCardConst.ActionType.TargetState,action_data:GetPlayerType())
        action:Set(card_type,idx,select_state)
        action:Begin()
    end)
end

return ShowTargetsStateAction