---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by jiaozhu.
--- DateTime: 2022/6/9 22:08
---
--- 目标选中数据
local CatCardConst = require("Runtime.System.X3Game.Modules.CatCard.Data.CatCardConst")
---@type CatCard.BaseActionData
local BaseActionData = require(CatCardConst.BASE_ACTION_DATA_PATH)
---@class CatCard.TargetStateActionData:CatCard.BaseActionData
local TargetStateActionData = class("TargetStateActionData",BaseActionData)

function TargetStateActionData:ctor()
    BaseActionData.ctor(self)
    
    ---目标类型
    ---@type CatCardConst.CardType
    self.targetType = nil
    
    ---目标位置
    ---@type int
    self.posIdx = 0
    
    ---选中类型
    ---@type CatCardConst.TargetShowState
    self.selectState = CatCardConst.TargetShowState.None
end

--region Set

---@param targetType CatCardConst.CardType
function TargetStateActionData:SetTargetType(targetType)
    self.targetType = targetType
end

---@param posIndex int
function TargetStateActionData:SetPosIndex(posIndex)
    self.posIdx = posIndex
end

---@param selectState CatCardConst.TargetShowState
function TargetStateActionData:SetSelectState(selectState)
    self.selectState = selectState
end

--endregion

--region Get
---@return CatCardConst.CardType
function TargetStateActionData:GetTargetType()
    return self.targetType
end


---@return int
function TargetStateActionData:GetPosIndex()
    return self.posIdx
end

---@return CatCardConst.TargetShowState
function TargetStateActionData:GetSelectState()
    return self.selectState
end

---@param selectState CatCardConst.TargetShowState
---@return boolean
function TargetStateActionData:IsSelectStateEnable(selectState)
    if not selectState then
        return false
    end
    return self.selectState & selectState == selectState
end

---@return boolean
function TargetStateActionData:IsUnselectAll()
    return self.selectState == CatCardConst.TargetShowState.None
end

---@return CatCardData
function TargetStateActionData:GetData()
    return self.bll:GetData(self:GetTargetType(),self:GetPosIndex(),self:GetTargetType() == CatCardConst.CardType.CARD and  self:GetPlayerType() or nil)
end
--endregion

---@param cardType CatCardConst.CardType
---@param posIndex int
---@param selectState CatCardConst.TargetShowState
function TargetStateActionData:Set(cardType,posIndex,selectState)
    self:SetTargetType(cardType)
    self:SetPosIndex(posIndex)
    self:SetSelectState(selectState)
end

function TargetStateActionData:OnInit()
    self:SetSelectState(CatCardConst.TargetShowState.None)
    self:SetPosIndex(0)
end

return TargetStateActionData