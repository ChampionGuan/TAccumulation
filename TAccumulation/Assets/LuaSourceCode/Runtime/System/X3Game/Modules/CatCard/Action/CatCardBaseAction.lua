---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by pc.
--- DateTime: 2020/8/28 21:25
---
local CatCardConst = require("Runtime.System.X3Game.Modules.CatCard.Data.CatCardConst")
---@class CatCardBaseAction
local CatCardBaseAction = class("CatCardBaseAction")
function CatCardBaseAction:IsExit()
    return self.is_exit
end

function CatCardBaseAction:SetIsExit(is_exit)
    self.is_exit = is_exit
end
function CatCardBaseAction:SetType(_type)
    self.type = _type
end

function CatCardBaseAction:GetType()
    return self.type
end

function CatCardBaseAction:SetState(st)
    self.state = st
end

function CatCardBaseAction:GetState()
    return self.state
end

function CatCardBaseAction:IsRunning()
    return self.is_running
end

function CatCardBaseAction:SetIsRunning(is_running)
    if is_running==self.is_running then
        return false
    end
    self.is_running = is_running
    self.bll:CheckRunning()
    return true
end

---CatCardActionCtrl
function CatCardBaseAction:SetOwner(owner)
    self.owner = owner
    self.logic_ctrl = self.owner:GetCtrl(CatCardConst.Ctrl.LOGIC)
end

function CatCardBaseAction:SetBll(bll)
    ---@type CatCardBLL
    self.bll = bll
end

function CatCardBaseAction:Execute()

end

function CatCardBaseAction:Enter()
    self:SetBll(BllMgr.Get("CatCardBLL"))
end

function CatCardBaseAction:Exit()
    GameUtil.ClearTarget(self)
end


function CatCardBaseAction:RegisterEvent()
    EventMgr.AddListener(CatCardConst.Event.CAT_CARD_LOCAL_STATE_CHANGE,self.LocalStateChange,self)
    EventMgr.AddListener(CatCardConst.Event.CAT_CARD_ACTION_TYPE_CHANGE,self.ActionChange,self)
end

function CatCardBaseAction:UnRegisterEvent()
    EventMgr.RemoveListenerByTarget(self)
end

function CatCardBaseAction:LocalStateChange(st,...)

end

function CatCardBaseAction:ActionChange(action_type)
    
end


function CatCardBaseAction:Continue()

end

function CatCardBaseAction:ShowScore(slot_idx,score,player_type,call)
    EventMgr.Dispatch(CatCardConst.Event.CAT_CARD_SHOW_SCORE,slot_idx,score,player_type,call)
end


function CatCardBaseAction:CheckSpecialState(...)
    EventMgr.Dispatch(CatCardConst.Event.CAT_CARD_CHECK_SPECIAL_STATE,...)
end

function CatCardBaseAction:CheckState()
    self.bll:CheckState()
end

function CatCardBaseAction:RefreshTipsText(...)
    EventMgr.Dispatch(CatCardConst.Event.CAT_CARD_REFRESH_TIPS,...)
end

---@param type CatCardConst.Ctrl
---@return BaseCatCardCtrl
function CatCardBaseAction:GetCtrl(type)
    return self.owner:GetCtrl(type)
end

return CatCardBaseAction