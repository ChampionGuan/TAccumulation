---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by xiaofang.
--- DateTime: 2022/12/21 15:02
---@type CatCardConst
local CatCardConst = require("Runtime.System.X3Game.Modules.CatCard.Data.CatCardConst")
---@type CatCard.CatCardBaseAction
local BaseAction = require(CatCardConst.BASE_ACTION_PATH_NEW)
---@class CatCard.WaitTimeAction:CatCard.CatCardBaseAction
local WaitTimeAction = class("WaitTimeAction", BaseAction)

---@param action_data CatCard.WaitTimeActionData
function WaitTimeAction:Begin(action_data)
    --self.isBreak = false
    self.waitTime = action_data:GetWaitTime()
    self.waitTime = TimerMgr.AddScaledTimer(self.waitTime, self.WaitEnd, self)
end

function WaitTimeAction:WaitEnd()
    self.waitTime = nil
    self:End()
end

--function WaitTimeAction:WaitBreak()
--    self.isBreak = true
--    self:WaitEnd()
--end

function WaitTimeAction:OnAddEventListener()
    --EventMgr.AddListener(CatCardConst.Event.WAIT_TIME_BREAK_EVENT, self.WaitBreak, self)
end

function WaitTimeAction:End()
    if self.waitTime then
        TimerMgr.Discard(self.waitTime)
        self.waitTime = nil
    end
    --EventMgr.Dispatch(CatCardConst.Event.WAIT_TIME_OVER_EVENT, self.isBreak)
    BaseAction.End(self)
end

return WaitTimeAction