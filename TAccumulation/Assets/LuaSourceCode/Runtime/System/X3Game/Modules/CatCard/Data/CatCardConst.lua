---
--- Generated by EmmyLua(https:--github.com/EmmyLua)
--- Created by pc.
--- DateTime: 2020/8/25 16:43
---
---@class CatCardConst
local CatCardConst = require("Runtime.System.X3Game.Modules.CatCard.Data.CatCardConstPartial")

CatCardConst.WND_VIEW_TAG = UIConf.CatCardWnd
CatCardConst.CLOSE_WND_VIEW = {
    UIConf.CatCardCommonChooseWnd,
    UIConf.CatCardWnd,
}
CatCardConst.WND_REWARD_VIEW_TAG = UIConf.DailyDateMiaoCardResultWnd
CatCardConst.BASE_UI_DIR = "Runtime.System.X3Game.UI.UIView.CatCardWnd."
CatCardConst.BASE_LUA_DIR = "Runtime.System.X3Game.Modules.CatCard."
CatCardConst.BASE_LUA_ACTION_DIR = string.concat(CatCardConst.BASE_LUA_DIR, "Action.")
CatCardConst.BASE_LUA_STATE_DIR = string.concat(CatCardConst.BASE_LUA_DIR, "State.")
CatCardConst.BASE_LOGIC_PATH = string.concat(CatCardConst.BASE_LUA_DIR, "Logic.CatCardBaseLogic")
CatCardConst.BASE_CTRL_PATH = string.concat(CatCardConst.BASE_LUA_DIR, "Controller.CatCardBaseCtrl")
CatCardConst.BASE_STATE_PATH = string.concat(CatCardConst.BASE_LUA_DIR, "State.CatCardBaseState")
CatCardConst.BASE_ACTION_PATH = string.concat(CatCardConst.BASE_LUA_DIR, "Action.CatCardBaseAction")
CatCardConst.BASE_ANIMATION_PATH = string.concat(CatCardConst.BASE_LUA_DIR, "Animation.CatCardBaseAni")
CatCardConst.BASE_SOUND_PATH = string.concat(CatCardConst.BASE_LUA_DIR, "Sound.CatCardBaseSound")
CatCardConst.BASE_EFFECT_PATH = string.concat(CatCardConst.BASE_LUA_DIR, "Effect.CatCardBaseEffect")
CatCardConst.CARD_STACK_LUA_PATH = string.concat(CatCardConst.BASE_LUA_DIR, "Logic.CardStackLogic")
CatCardConst.CARD_STACK_TWO_LUA_PATH = string.concat(CatCardConst.BASE_LUA_DIR, "Logic.CardStackLogic")
CatCardConst.CAT_CARD_SLOT_UI_PATH = string.concat(CatCardConst.BASE_UI_DIR, "SubView.SlotsUI")
CatCardConst.CAT_CARD_SLOT_ITEM_PATH = string.concat(CatCardConst.BASE_UI_DIR, "SubView.SlotItemView")
CatCardConst.CAT_CARD_CENTER_ITEM_PATH = string.concat(CatCardConst.BASE_UI_DIR, "SubView.CenterItemView")
CatCardConst.CAT_CARD_EFFECT_UI_PATH = string.concat(CatCardConst.BASE_UI_DIR, "SubView.EffectView")
CatCardConst.CAT_CARD_FUNC_EFFECT_UI_PATH = string.concat(CatCardConst.BASE_UI_DIR, "SubView.FuncEffectView")
CatCardConst.CAT_CARD_BUFF_VIEW = string.concat(CatCardConst.BASE_UI_DIR, "SubView.BuffView")
CatCardConst.CAT_CARD_BASE_DATA_PARSER_PATH = string.concat(CatCardConst.BASE_LUA_DIR, "Data.DataParser.BaseDataParser")
CatCardConst.CAT_CARD_SLOT_ITEM_PREFAB_PATH = "UIPrefab_CatCard_Slot"
CatCardConst.CAT_CARD_UI_PREFAB_PATH = PrefabConst.MiaoCard_Content
CatCardConst.CARD_STACK_NODE_NAME = "CenterCardStack"
CatCardConst.ROB_SHOW_MODEL_NAME = "RobCardShow"
CatCardConst.FUNCTION_CARD_SHOW = "FunctionCardShow"
CatCardConst.DISCARD_SHOW_CENTER = "FuncCardShowPos"
CatCardConst.MODEL_MASK = "BlackMask"
CatCardConst.CARD_EMPTY_CLICK = "EmptyClick"
CatCardConst.ROB_POS_NAME = "HandCardPos"
CatCardConst.MODEL_CAMERA_NAME = "CameraFor3DUI"
CatCardConst.MODEL_ROUND_RES_NAME = "ResultShow"
CatCardConst.MODEL_EFFECT_NAME = "Effect"
CatCardConst.DOUBLEPARA = 2 ---倍数，翻倍卡
CatCardConst.DEFAULT_CARD_ID = 2111
CatCardConst.DEFAULT_FUNC_CARD_ID = 2201
CatCardConst.MODEL_SELECT_OFFSET = 0.02
CatCardConst.MODEL_SELECT_SLOT_OFFSET = 0.01
CatCardConst.MODEL_MOVE_TO_SLOT_OFFSET = 0.3
CatCardConst.DARK_ALPHA = 0.6
CatCardConst.NORMAL_ALPHA = 1
CatCardConst.MAX_CARD_COUNT = 10 --最大牌数量
CatCardConst.MAX_INIT_CARD_COUNT = 11 --最大牌数量
CatCardConst.MAX_FUNCCARD_COUNT = 10 --立牌界面最大展示功能牌数量

CatCardConst.ROB_CARD_MOVE_SPEED = 2.7 --抢牌的时候卡飞上来的移动速度
CatCardConst.ROB_GET_CARD_SPEED = 0.8 --抢牌的时候摸牌速度
CatCardConst.CAT_SWITCH_SPEED = 1 --换卡的时候猫的速度
CatCardConst.CARD_REGRET_SPEED = 0.4 --悔牌移动速度
CatCardConst.SLOT_CARD_MOVE_POS = "cardpos" --卡飞行到格子上的位置
CatCardConst.SLOT_CAT_EFFECT_POS = "cateffect" --猫出现特效挂点
CatCardConst.SLOT_CARD_NPC_MOVE_POS = "cardpos_opponent"
CatCardConst.POP_CARD_TO_NEXT_WAITING = 0  --出卡之后，猫掉进杯子播放idle多久之后进入下个回合
CatCardConst.DELAY_SHOW_RESULT = 1 --延时显示单轮界面

CatCardConst.SWITCH_CARD_IDLE_DT = 0.01 ---换卡之后，播放idle0.01s之后算是结束
CatCardConst.START_WND_WAIT_TIME = 2.6 --开始界面等待时间
CatCardConst.PLAYER_CARD_ROTATION_Z = 180

CatCardConst.CARD_SPEED = 1.6  --卡片移动速度，米/秒
CatCardConst.SELECT_CARD_SPEED = 1 ---选择功能牌时的卡片移动速度，米/秒
CatCardConst.CARD_ROTATION_DT = 0.3 --最后卡片旋转时间
CatCardConst.CARD_SCALE_DT = 0.5
CatCardConst.GET_DISCARD_SPEED = 2.5  ---从弃牌堆获得卡牌移动速度
CatCardConst.MOVE_EASY_TYPE = CS.DG.Tweening.Ease.InOutQuad --移动曲线
CatCardConst.SCALE_EASY_TYPE = CS.DG.Tweening.Ease.OutExpo --缩放曲线
CatCardConst.ROTATION_EASY_TYPE = CS.DG.Tweening.Ease.OutQuad --旋转曲线
CatCardConst.DISCARD_SCALE_EASY_TYPE = CS.DG.Tweening.Ease.InOutQuad  --弃牌堆回收缩放曲线
CatCardConst.OssLogCategory = "MiaoCard"
---功能牌爆牌表现相关参数
CatCardConst.FUNC_CARD_DESTROY = {
    ---延迟销毁卡牌时间
    TIME = 0.55,
    ---销毁特效持续时间
    EFFECT_TIME = 1,
    ---移动速度
    MOVE_SPEED = 3.2,
    ---旋转时间
    ROTATION_TIME = 0.32,
    ---缩放时间
    SCALE_TIME = 0.5,
    ---移动曲线
    MOVE_EASY_TYPE = CS.DG.Tweening.Ease.InOutQuad,
    ---旋转曲线
    ROTATION_EASY_TYPE = CS.DG.Tweening.Ease.OutQuad,
    ---缩放曲线
    SCALE_EASY_TYPE = CS.DG.Tweening.Ease.OutExpo,
}

---破产喵表现相关参数
CatCardConst.BANKRUPT = {
    ---延迟销毁卡牌时间
    TIME = 0.55,
    ---销毁特效持续时间
    EFFECT_TIME = 1,
}

CatCardConst.STEALPRESSTIME = 1 --长按偷牌的时间
CatCardConst.MIN_STEAL_INTERRUPT_TIME = 0.3

CatCardConst.SWITCHMINCOUNT = 2  --换牌的最小数量

CatCardConst.REGRETCONDITIONSTORYID = 6  --悔牌时的条件ID，0--只有放弃， 1--可以换牌
CatCardConst.REGRETSTORYID = 4  --悔牌时的选择ID

CatCardConst.MODEL_APPEAR_UI_EFFECT_DT = 1--模型出现的特效播放时间

CatCardConst.WANDERING_TICK_DT = 1 --神游tick时间

CatCardConst.LOCAL_STATE_FLAG = "_END"
CatCardConst.NO_CHANE_LAYER_MODELS = { "cupmat", "cupplate" }

CatCardConst.SCORE_MOVE_SPEED = 100 --分数移动速度
CatCardConst.BUFF_MOVE_SPEED = 100 --buff特效移动速度
CatCardConst.BUFF_MOVE_TIME = 0.5 --buff特效移动总时长
CatCardConst.DIALOGUE_EMPTY_STATE = "None" --剧情空状态

CatCardConst.SLOT_COUNT = 8
CatCardConst.MAN_CARD_MASK_NAME = "miaocard_cupmat_mask_001"
CatCardConst.MAN_CARD_MASK_PARENT = "miaocard_cat_background_001"
---弃牌堆位置
CatCardConst.DISCARD_CARD_NODE = "DiscardCard"

CatCardConst.FUNC_CARD_STACK_NODE = "CenterFuncCardStack/CenterFunc"
CatCardConst.Num_CARD_STACK_NODE = "CenterFuncCardStack/CenterNum"

---玩家的否决牌展示位置
CatCardConst.VOTE_CARD_NODE_PLAYER = "VoteCardShow/VoteCardPosPlayer"
---男主的否决牌展示位置
CatCardConst.VOTE_CARD_NODE_MAN = "VoteCardShow/VoteCardPosMan"

---ui类型---

CatCardConst.ViewType = {
    SWITCH = 1, --神游下换牌
    ROB = 2, --抢牌
    REGRET = 3, --悔牌，抓包按钮
    START = 4, --游戏开始
    ROUND_RESULT = 5, --单轮结算
    TIPS = 6, --过程中tips
    SCORE = 7, --得分ui
    BUFF_TIP = 8, --buff详情
}

CatCardConst.ViewConf = {
    [CatCardConst.ViewType.SWITCH] = {
        prefab = PrefabConst.CatCard_Switch,
        parent = "OCX_switch",
        lua = string.concat(CatCardConst.BASE_UI_DIR, "SubView.SwitchView"),
    },
    [CatCardConst.ViewType.ROB] = {
        is_wnd = true,
        view_tag = UIConf.CatCardRobView,
        parent = "OCX_rob",
        lua = string.concat(CatCardConst.BASE_UI_DIR, "SubView.RobView"),
    },
    [CatCardConst.ViewType.REGRET] = {
        prefab = PrefabConst.CatCard_Regret,
        parent = "OCX_regret",
        lua = string.concat(CatCardConst.BASE_UI_DIR, "SubView.RegretView"),
    },
    [CatCardConst.ViewType.START] = {
        prefab = PrefabConst.CatCard_Start,
        parent = "OCX_start",
        lua = string.concat(CatCardConst.BASE_UI_DIR, "SubView.StartView"),
    },
    [CatCardConst.ViewType.ROUND_RESULT] = {
        is_wnd = true,
        view_tag = UIConf.CatCardRoundResult,
    },
    [CatCardConst.ViewType.TIPS] = {
        prefab = PrefabConst.CatCard_Tips,
        parent = "OCX_tips",
        lua = string.concat(CatCardConst.BASE_UI_DIR, "SubView.CatCardTipsView"),
    },
    [CatCardConst.ViewType.SCORE] = {
        prefab = PrefabConst.CatCard_score,
        parent = "OCX_effect",
        lua = string.concat(CatCardConst.BASE_UI_DIR, "SubView.ScoreView"),
    },
    [CatCardConst.ViewType.BUFF_TIP] = {
        prefab = PrefabConst.CatCard_Buff_Tips,
        lua = string.concat(CatCardConst.BASE_UI_DIR, "SubView.CatCardBuffTipsView"),
    },
}

CatCardConst.FuncStackNode = { "CenterFuncCardStack/CenterFunc/mid_card001", "CenterFuncCardStack/CenterFunc/mid_card002" }

---tips显示类型
---@class CatCardConst.TipsType
CatCardConst.TipsType = {
    WANDERING = 1, --神游中
    EXCHANGE = 2, --互换手牌(卖萌)
    STEAL = 3, --偷牌
    REGRET = 4, --悔牌（偷天换日）
    ROB = 5, --抢牌
    ChangeSlotCard = 6, --修改格子上的数字卡
    Demolish = 7, --拆除格子上的数字卡
    ChangeSlotColor = 8, --修改格子上的颜色
    VetoQuery = 9, --否决请求（男主是等待，女主是确认）
    VetoResult = 10, --否决效果
}

---tips数据
---@class CatCardConst.CatCardTipData
CatCardConst.CatCardTipData = {
    [CatCardConst.TipsType.ChangeSlotCard] = {
        text_id = UITextConst.UI_TEXT_35015,
        check_btn_enable = true,
        no_select_tip = UITextConst.UI_TEXT_35014,
        check_slot_change = true
    },
    [CatCardConst.TipsType.Demolish] = {
        text_id = UITextConst.UI_TEXT_35016,
        check_btn_enable = true,
        no_select_tip = UITextConst.UI_TEXT_35014,
        check_slot_change = true
    },
    [CatCardConst.TipsType.ChangeSlotColor] = {
        text_id = UITextConst.UI_TEXT_35013,
        check_btn_enable = true,
        no_select_tip = UITextConst.UI_TEXT_35014,
        check_slot_change = true
    },
    [CatCardConst.TipsType.VetoQuery] = {
        check_player_type = true,
        text_id = UITextConst.UI_TEXT_35025,
        npc_text_id = UITextConst.UI_TEXT_35022,
        wait_time = LuaCfgMgr.Get("SundryConfig", X3_CFG_CONST.MIAOCARDFUNCTIONPLAYERREJECTCOUNTDOWN), --女主等待时长
        role_wait_time = LuaCfgMgr.Get("SundryConfig", X3_CFG_CONST.MIAOCARDFUNCTIONMANREJECTCOUNTDOWN), --男主等待时长
        cancel_id = UITextConst.UI_TEXT_35027,
        confirm_id = UITextConst.UI_TEXT_35026,
    },
}

---@class CatCardConst.VetoTipType
CatCardConst.VetoTipType = {
    EnemyVeto = 1, --女主打出功能牌，男主否决
    PlayerVetoEnemy = 2, --男主打出否决牌，女主还持有否决牌，否决男主的否决牌
    PlayerVeto = 3, --男主打出功能牌，女主否决
    EnemyVetoPlayer = 4, --女主打出否决牌，男主有否决牌，否决女主的否决牌
}

---@class CatCardConst.VetoTipID
CatCardConst.VetoTipID = {
    [CatCardConst.VetoTipType.EnemyVeto] = UITextConst.UI_TEXT_35022,
    [CatCardConst.VetoTipType.PlayerVetoEnemy] = UITextConst.UI_TEXT_35036,
    [CatCardConst.VetoTipType.PlayerVeto] = UITextConst.UI_TEXT_35025,
    [CatCardConst.VetoTipType.EnemyVetoPlayer] = UITextConst.UI_TEXT_35037
}

---@class CatCardConst.PlayerTipType
CatCardConst.PlayerTipType = {
    PopNum = 0, --出牌或摸牌
    EmptyNumCard = 1, --手牌中无数字牌（用于数字版）
    PopFunc = 2, --出功能牌
    PopNumPlus = 3, --额外出数字牌，并且还有数字手牌
    FrozenFunc = 4, --冰冻buff加成（无法操作功能牌）TODO 暂时不管
    NoFuncCard = 5, --功能牌阶段手牌没有功能牌，或者是没有使用情景的时候
    NoNumCard = 6, --数字牌阶段手牌没有数字牌
}

---控制器
---@class CatCardConst.Ctrl
CatCardConst.Ctrl = {
    LOGIC = 1,
    STATE = 2,
    ACTION = 3,
    ANIMATION = 4,
    TOUCH = 5,
    EFFECT = 6,
    SOUND = 7,
    PROCEDURE = 8,
    PIPELINE = 9,
    PIPELINE_ACTION = 10,
    SelectCtrl = 11,
    Dialogue = 12,
}

---控制器配置
CatCardConst.CtrlConf = {
    [CatCardConst.Ctrl.LOGIC] = string.concat(CatCardConst.BASE_LUA_DIR, "Controller.CatCardLogicCtrl"),
    [CatCardConst.Ctrl.STATE] = string.concat(CatCardConst.BASE_LUA_DIR, "Controller.CatCardStateCtrl"),
    [CatCardConst.Ctrl.ACTION] = string.concat(CatCardConst.BASE_LUA_DIR, "Controller.CatCardActionCtrl"),
    [CatCardConst.Ctrl.ANIMATION] = string.concat(CatCardConst.BASE_LUA_DIR, "Controller.CatCardAniCtrl"),
    [CatCardConst.Ctrl.TOUCH] = string.concat(CatCardConst.BASE_LUA_DIR, "Controller.CatCardTouchCtrl"),
    [CatCardConst.Ctrl.EFFECT] = string.concat(CatCardConst.BASE_LUA_DIR, "Controller.CatCardEffectCtrl"),
    [CatCardConst.Ctrl.SOUND] = string.concat(CatCardConst.BASE_LUA_DIR, "Controller.CatCardSoundCtrl"),
    [CatCardConst.Ctrl.PROCEDURE] = string.concat(CatCardConst.BASE_LUA_DIR, "Controller.CatCardRunningCtrl"),
    [CatCardConst.Ctrl.PIPELINE] = string.concat(CatCardConst.BASE_LUA_DIR, "Controller.CatCardActionPipelineCtrl"),
    [CatCardConst.Ctrl.PIPELINE_ACTION] = string.concat(CatCardConst.BASE_LUA_DIR, "Controller.CatCardActionCtrlNew"),
    [CatCardConst.Ctrl.SelectCtrl] = string.concat(CatCardConst.BASE_LUA_DIR, "Controller.CatCardSelectCtrl"),
    [CatCardConst.Ctrl.Dialogue] = string.concat(CatCardConst.BASE_LUA_DIR, "Controller.CatCardDialogueCtrl"),
}

---确认框配置
CatCardConst.Message_box_conf = {
    content = UITextConst.UI_TEXT_6035,
    ok = UITextConst.UI_TEXT_5701,
    cancel = UITextConst.UI_TEXT_5702,
}
---事件配置
CatCardConst.Event = {
    CAT_CARD_ENTER = "CAT_CARD_ENTER",
    CAT_CARD_EXIT = "CAT_CARD_EXIT",
    CAT_CARD_EXIT = "CAT_CARD_EXIT",
    CAT_CHECK_STATE = "CAT_CHECK_STATE",
    CAT_CARD_REFRESH_MODELS = "CAT_CARD_REFRESH_MODELS",
    CAT_CARD_REFRESH_MARK_STATE = "CAT_CARD_REFRESH_MARK_STATE",
    CAT_CARD_REFRESH_POS_MASK_STATE = "CAT_CARD_REFRESH_POS_MASK_STATE",
    CAT_CARD_CHECK_SPECIAL_STATE = "CAT_CARD_CHECK_SPECIAL_STATE",
    CAT_CARD_CHECK_ACTION = "CAT_CARD_CHECK_ACTION",
    CAT_CARD_EXECUTE_ACTION = "CAT_CARD_EXECUTE_ACTION",
    CAT_CARD_CHECK_ANIMATION = "CAT_CARD_CHECK_ANIMATION",
    CAT_CARD_CHECK_SOUND = "CAT_CARD_CHECK_SOUND",
    CAT_CARD_CHECK_EFFECT = "CAT_CARD_CHECK_EFFECT",
    CAT_CARD_CHECK_PIPELINE = "CAT_CARD_CHECK_PIPELINE",
    CAT_CARD_CHECK_PIPELINE = "CAT_CARD_CHECK_PIPELINE",
    CAT_CARD_ADD_MODEL_TO_POOL = "CAT_CARD_ADD_MODEL_TO_POOL",
    CAT_CARD_ADD_EFFECT_TO_POOL = "CAT_CARD_ADD_EFFECT_TO_POOL",
    CAT_CARD_SET_MODEL_ACTIVE = "CAT_CARD_SET_MODEL_ACTIVE",
    CAT_CARD_RESET_MODEL = "CAT_CARD_RESET_MODEL",
    CAT_CARD_ON_SELECT_MODEL = "CAT_CARD_ON_SELECT_MODEL",
    CAT_CARD_SET_MODEL_SELECT = "CAT_CARD_SET_MODEL_SELECT",
    CAT_CARD_SET_MODEL_CAN_SELECT = "CAT_CARD_SET_MODEL_CAN_SELECT",
    CAT_CARD_SET_TOUCH_ENABLE = "CAT_CARD_SET_TOUCH_ENABLE",
    CAT_CARD_REFRESH_VIEW = "CAT_CARD_REFRESH_VIEW",
    CAT_CARD_CHECK_RUNNIG = "CAT_CARD_CHECK_RUNNIG",
    CAT_CARD_REFRESH_CENTER_VIEW = "CAT_CARD_REFRESH_CENTER_VIEW",
    CAT_CARD_REFRESH_TIPS = "CAT_CARD_REFRESH_TIPS",
    CAT_CARD_LOCAL_STATE_CHANGE = "CAT_CARD_LOCAL_STATE_CHANGE",
    CAT_CARD_SET_CAT_SELECT = "CAT_CARD_SET_CAT_SELECT",
    CAT_CARD_SET_ALL_SELECT_CATS_IS_PICK = "CAT_CARD_SET_ALL_SELECT_CATS_IS_PICK",
    CAT_CARD_REFRESH_MODEL = "CAT_CARD_REFRESH_MODEL",
    CAT_CARD_SET_MAIN_VIEW_ACTIVE = "CAT_CARD_SET_MAIN_VIEW_ACTIVE",
    CAT_CARD_SET_VIEW_ACTIVE = "CAT_CARD_SET_VIEW_ACTIVE",
    CAT_CARD_CHANGE_ANIMATION_RUNNING_STATE = "CAT_CARD_CHANGE_ANIMATION_RUNNING_STATE",
    CAT_CARD_PLAY_REGRET_UI_ANIMATION = "CAT_CARD_PLAY_REGRET_UI_ANIMATION",
    CAT_CARD_SET_TOUCH_EMPTY_ENABLE = "CAT_CARD_SET_TOUCH_EMPTY_ENABLE",
    CAT_CARD_SET_TOUCH_CAN_EXECUTE_ACTION = "CAT_CARD_SET_TOUCH_CAN_EXECUTE_ACTION",
    CAT_CARD_SET_SLOT_PREVIEW_ACTIVE = "CAT_CARD_SET_SLOT_PREVIEW_ACTIVE",
    CAT_CARD_SET_ROB_NODE_SELECT = "CAT_CARD_SET_ROB_NODE_SELECT",
    CAT_CARD_SET_CARD_MASK_ACTIVE = "CAT_CARD_SET_CARD_MASK_ACTIVE",
    CAT_CARD_SET_WND_RT_ACTIVE = "CAT_CARD_SET_WND_RT_ACTIVE",
    CAT_CARD_ADD_RAY_CAST_CAMERA = "CAT_CARD_ADD_RAY_CAST_CAMERA",
    CAT_CARD_SET_MODEL_LAYER = "CAT_CARD_SET_MODEL_LAYER",
    CAT_CARD_SET_TOUCH_LOCK = "CAT_CARD_SET_TOUCH_LOCK",
    CAT_CARD_SET_WANDERING_TIPS_ACTIVE = "CAT_CARD_SET_WANDERING_TIPS_ACTIVE",
    CAT_CARD_CHECK_UI_EFFECT = "CAT_CARD_CHECK_UI_EFFECT",
    CAT_CARD_SHOW_TIPS = "CAT_CARD_SHOW_TIPS",
    CAT_CARD_ACTION_TYPE_CHANGE = "CAT_CARD_ACTION_TYPE_CHANGE",
    CAT_CARD_CHANGE_ICON = "CAT_CARD_CHANGE_ICON",
    CAT_CARD_SHOW_SCORE = "CAT_CARD_SHOW_SCORE",
    CAT_CARD_CHANGE_DIALOGUE_TIPS = "CAT_CARD_CHANGE_DIALOGUE_TIPS",
    CAT_CARD_SET_WND_ACTIVE = "CAT_CARD_SET_WND_ACTIVE",
    CAT_CARD_SET_FOLLOW_MODEL = "CAT_CARD_SET_FOLLOW_MODEL",
    CAT_CARD_CHECK_CARD_CAN_SELECT = "CAT_CARD_CHECK_CARD_CAN_SELECT",
    CAT_CARD_RECEIVE_SERVER_MSG = "CAT_CARD_RECEIVE_SERVER_MSG",
    CAT_CARD_BREAK = "CAT_CARD_BREAK",
    CAT_CARD_CONTINUE = "CAT_CARD_CONTINUE",
    CAT_CARD_CHOOSE_CONFIRM_EVENT = "CAT_CARD_CHOOSE_CONFIRM_EVENT",
    CAT_CARD_COMMON_CHOOSE_VIEW = "CAT_CARD_COMMON_CHOOSE_VIEW",
    CAT_CARD_ADD_MODEL_TO_TEMP = "CAT_CARD_ADD_MODEL_TO_TEMP",
    CAT_CARD_RELEASE_TEMP_MODEL = "CAT_CARD_RELEASE_TEMP_MODEL",
    CAT_CARD_RELEASE_SHOW_MODEL = "CAT_CARD_RELEASE_SHOW_MODEL",
    CAT_CARD_REMOVE_MODEL = "CAT_CARD_REMOVE_MODEL",
    CAT_CARD_ROTATION_MODEL = "CAT_CARD_ROTATION_MODEL",
    CAT_CARD_SET_FUNC_BTN_USE_ACTIVE = "CAT_CARD_SET_FUNC_BTN_USE_ACTIVE",
    CAT_CARD_REFRESH_TOAST = "CAT_CARD_REFRESH_TOAST",
    CAT_CARD_MODEL_SELECT_EVENT = "CAT_CARD_MODEL_SELECT_EVENT",
    CAT_CARD_SELECT_SLOT_CHANGE = "CAT_CARD_SELECT_SLOT_CHANGE",
    CAT_CARD_TIP_END_EVENT = "CAT_CARD_TIP_END_EVENT",
    CAT_CARD_POPSTATE_CHANGE = "CAT_CARD_POPSTATE_CHANGE",
    CAT_CARD_SET_SELECT_ENABLE = "CAT_CARD_SET_SELECT_ENABLE",
    CAT_CARD_CHECK_SELECT = "CAT_CARD_CHECK_SELECT",
    CAT_CARD_PARSE_PIPELINE = "CAT_CARD_PARSE_PIPELINE",
    CAT_CARD_ADD_MODEL_TO_SHOW = "CAT_CARD_ADD_MODEL_TO_SHOW",
    CAT_CARD_FINISH_FUNC_CARD_EVENT = "CAT_CARD_FINISH_FUNC_CARD_EVENT",
    CAT_CARD_SET_ALL_RUNNING_MODELS_LAYER = "CAT_CARD_SET_ALL_RUNNING_MODELS_LAYER",
    CAT_CARD_MAIN_TIP_INFO_REFRESH = "CAT_CARD_MAIN_TIP_INFO_REFRESH",
    CAT_CARD_DISCARD_BREAK_EVENT = "CAT_CARD_DISCARD_BREAK_EVENT",
    CAT_CARD_DISCARD_END_EVENT = "CAT_CARD_DISCARD_END_EVENT",
    CAT_CARD_CLEAR_TIP_PROGRESS = "CAT_CARD_CLEAR_TIP_PROGRESS",
    CAT_CARD_REFRESH_SCORE = "CAT_CARD_REFRESH_SCORE",
    CAT_CARD_REFRESH_BUFF_INFO = "CAT_CARD_REFRESH_BUFF_INFO",
    CAT_CARD_FINISH_LOCK_STATE = "CAT_CARD_FINISH_LOCK_STATE",
    CAT_CARD_GAME_PAUSE = "CAT_CARD_GAME_PAUSE",
    CAT_CARD_GAME_RESUME = "CAT_CARD_GAME_RESUME",
    CAT_CARD_DISCARD_STEAL_EVENT = "CAT_CARD_DISCARD_STEAL_EVENT",
    CAT_CARD_RESET_BUFF_EVENT = "CAT_CARD_RESET_BUFF_EVENT",
    CAT_CARD_ENDING_SHOWICON = "CAT_CARD_ENDING_SHOWICON",
    CAT_CARD_CHANGE_SCORE_EVENT = "CAT_CARD_CHANGE_SCORE_EVENT",
    CAT_CARD_SET_PLAYCARD_POS = "CAT_CARD_SET_PLAYCARD_POS",
    CAT_CARD_TIP_SELECT_RESULT = "CAT_CARD_TIP_SELECT_RESULT",
    CAT_CARD_SELECT_WANDER_ACTION = "CAT_CARD_SELECT_WANDER_ACTION",
    CAT_CARD_WANDER_RECEIVE_MSG = "CAT_CARD_WANDER_RECEIVE_MSG",
    CAT_CARD_CLEAR_ACTION_LIST = "CAT_CARD_CLEAR_ACTION_LIST",
    EXCHANGE_RECEIVE_MSG_EVENT = "EXCHANGE_RECEIVE_MSG_EVENT",
    REGRET_RECEIVE_MSG_EVENT = "REGRET_RECEIVE_MSG_EVENT",
    REGRET_CAUGHT_SUCCESS = "REGRET_CAUGHT_SUCCESS",
    REGRET_CAUGHT_SELECT_RESULT = "REGRET_CAUGHT_SELECT_RESULT",
    REGRET_STOP_HIM_EVENT = "REGRET_STOP_HIM_EVENT",
    REGRET_PASS_EVENT = "REGRET_PASS_EVENT",
    REGRET_WAITING_PLAYER_SELECT = "REGRET_WAITING_PLAYER_SELECT",
    REGRET_CHANGE_CARD_DATA_EVENT = "REGRET_CHANGE_CARD_DATA_EVENT",
    STEAL_SHOW_PRESTEAL_EVENT = "STEAL_SHOW_PRESTEAL_EVENT",
    STEAL_PRESS_STATE_CHANGE = "STEAL_PRESS_STATE_CHANGE",
    CAT_CARD_STEAL_RECEIVE_MSG = "CAT_CARD_STEAL_RECEIVE_MSG",
    ROB_GET_CARD_MSG_EVENT = "ROB_GET_CARD_MSG_EVENT",
    ROB_SELECT_EVENT = "ROB_SELECT_EVENT",
    CAT_CARD_DIALOGUE_GOTO_NEXT_STATE_EVENT = "CAT_CARD_DIALOGUE_GOTO_NEXT_STATE_EVENT",
    CAT_CARD_DIALOGUE_SET_VARIABLE_EVENT = "CAT_CARD_DIALOGUE_SET_VARIABLE_EVENT",
    ADD_ACTION_PIPELINE_EVENT = "ADD_ACTION_PIPELINE_EVENT",
    WAIT_TIME_OVER_EVENT = "WAIT_TIME_OVER_EVENT",
    WAIT_TIME_BREAK_EVENT = "WAIT_TIME_BREAK_EVENT",
    CAT_CARD_CLOSE_DISCARD_PANEL = "CAT_CARD_CLOSE_DISCARD_PANEL",
    CAT_CARD_SET_WND_TOUCH_ENABLE = "CAT_CARD_SET_WND_TOUCH_ENABLE",
    CAT_CARD_STOP_PIPE_LINE = "CAT_CARD_STOP_PIPE_LINE",
    CAT_CARD_REFRESH_STACK_EVENT = "CAT_CARD_REFRESH_STACK_EVENT",
    CAT_CARD_SHOW_FUNC_EFFECT_EVENT = "CAT_CARD_SHOW_FUNC_EFFECT_EVENT",
    CAT_CARD_GAME_END_EVENT = "CAT_CARD_GAME_END_EVENT",
    CAT_CARD_BACK_CHECK = "CAT_CARD_BACK_CHECK",
}

--事件帧
CatCardConst.AnimationEvent = {
    MIAO_APPEAR_START = "miao_appear_start", --猫出现动作开始
    MIAO_APPEAR_END = "miao_appear_end", --猫出现动作结束
}

---状态
---@class CatCardConst.State
CatCardConst.State = {
    INIT = 0,
    ROLL = 1,
    INITHAND = 2,
    P1_PRE = 3, --玩家准备阶段
    P1_ACT = 4, --玩家出牌
    P2_PRE = 5, --npc准备阶段
    P2_ACT = 6, --npc出牌
    END = 7,
}

---出牌阶段子状态
---@class CatCardConst.SubState
CatCardConst.SubState = {
    MiaoSubStateInit = 0, -- 准备阶段
    MiaoSubStateFunc = 1, -- 出功能牌
    MiaoSubStateNum = 2, -- 出数字牌
    MiaoSubStateNumPlus = 3, -- 额外出数字牌阶段
}

---出牌阶段
---@class CatCardConst.PopCardState
CatCardConst.PopCardState = {
    None = 0,
    PopFuc = 1,
    PopNum = 2,
    PopNumPlus = 3,
}

---结算
---@class CatCardConst.RoundRes
CatCardConst.RoundRes = {
    NONE = 0,
    WIN = 1,
    LOSS = 2,
    DRAW = 3,
    GIVEUP = 4,
    PlayerSurrender = 5, --玩家投降
    AISurrender = 6, --男主投降
}

---特殊類型
---@class CatCardConst.SpecialType
CatCardConst.SpecialType = {
    WANDERINGFORREPLACE = 1, --神游&换牌
    STEAL = 2, --偷牌
    ROB = 3, --抢牌
    REGRET = 4, --悔牌
    EXCHANGE = 5, --卖萌换牌
    ---YG放水
    Yield = 6,

    ---自定义类型
    GET_CARD = 1000, --抽牌
    POP_CARD = 1001, --出牌
    ROUND_END = 1004, --单轮结算
    INIT = 1005, --初始化
    INIT_HAND = 1006, --初始化手牌
    NET_WORK = 1007, --网络相关
}

---sp对应男主
---@class CatCardConst.SpecialTypeToRole
CatCardConst.SpecialTypeToRole = {
    [CatCardConst.SpecialType.WANDERINGFORREPLACE] = 1,
    [CatCardConst.SpecialType.STEAL] = 4,
    [CatCardConst.SpecialType.ROB] = 3,
    [CatCardConst.SpecialType.REGRET] = 5,
    [CatCardConst.SpecialType.EXCHANGE] = 2,
}

---@class CatCardConst.WanderingType
CatCardConst.WanderingType = {
    CANSWITCH = 1,
    SWITCHFAILED = 2,
    SWITCHSUCCESS = 3,
}

---@class CatCardConst.WanderingState
CatCardConst.WanderingState = {
    NONE = 0,
    WAITING = 1, --神游等待
    WANDERING = 2, --神游中
    ENDED = 3, --神游结束
}

CatCardConst.Occupy = {
    FREE = 0,
    PLAYER = 1,
    ENEMY = 2,
    BOTH = 3,
}

---@class CatCardConst.NetworkType
CatCardConst.NetworkType = {
    ENTER_GAME = 1,
    PLAYMIAOCARD = 2,
    ROLLMIAO = 3,
    ADDMIAOTURN = 4,
    INITMIAOHAND = 5,
    GETMIAOREWARD = 6,
    REDUCEMIAOCOUNT = 7,
    MIAOSPROBGETCARD = 9,
    MIAOSPEXCHANGEHAND = 10,
    MIAOSPEXCHANGEHANDUNDO = 11,
    MIAOSPUNDO = 12,
    MIAOSPREPLACE = 13,
    MIAOSPSTEAL = 14,
    MIAOSPROB = 15,

    ---功能牌相关协议
    PLAYFUNCCARD = 16, --打功能牌

    ---GM 修改牌属性
    CARD_UPDATE = 17,
}

CatCardConst.NetworkConf = {
    [CatCardConst.NetworkType.ENTER_GAME] = { Miao.Command.GetMiaoDataRequest, "GetMiaoDataReply", false },
    [CatCardConst.NetworkType.PLAYMIAOCARD] = { Miao.Command.PlayMiaoCardRequest, "PlayMiaoCardReply", true },
    [CatCardConst.NetworkType.ROLLMIAO] = { Miao.Command.RollMiaoRequest, "RollMiaoReply", false },
    [CatCardConst.NetworkType.ADDMIAOTURN] = { Miao.Command.AddMiaoTurnRequest, "AddMiaoTurnReply" },
    [CatCardConst.NetworkType.INITMIAOHAND] = { Miao.Command.InitMiaoHandRequest, "InitMiaoHandReply" },
    [CatCardConst.NetworkType.GETMIAOREWARD] = { Miao.Command.GetMiaoRewardRequest, "GetMiaoRewardReply" },
    [CatCardConst.NetworkType.REDUCEMIAOCOUNT] = { Miao.Command.ReduceMiaoCountRequest, "ReduceMiaoCountReply" },
    [CatCardConst.NetworkType.MIAOSPROBGETCARD] = { Miao.Command.MiaoSPRobGetCardRequest, "MiaoSPRobGetCardReply", true },
    [CatCardConst.NetworkType.MIAOSPEXCHANGEHAND] = { Miao.Command.MiaoSPExchangeHandRequest, "MiaoSPExchangeHandReply", true },
    [CatCardConst.NetworkType.MIAOSPEXCHANGEHANDUNDO] = { Miao.Command.MiaoSPExchangeHandUndoRequest, "MiaoSPExchangeHandUndoReply", true },
    [CatCardConst.NetworkType.MIAOSPUNDO] = { Miao.Command.MiaoSPUndoRequest, "MiaoSPUndoReply", true },
    [CatCardConst.NetworkType.MIAOSPREPLACE] = { Miao.Command.MiaoSPReplaceRequest, "MiaoSPReplaceReply", true },
    [CatCardConst.NetworkType.MIAOSPSTEAL] = { Miao.Command.MiaoSPStealRequest, "MiaoSPStealReply", true },
    [CatCardConst.NetworkType.MIAOSPROB] = { Miao.Command.MiaoSPRobRequest, "MiaoSPRobReply", true },
    [CatCardConst.NetworkType.PLAYFUNCCARD] = { Miao.Command.MiaoPlayFuncCardRequest, "MiaoPlayFuncCardReply", true },
    [CatCardConst.NetworkType.CARD_UPDATE] = { Miao.Command.UpdateMiaoReply, "UpdateMiaoReply" },
}

---本地状态,每种状态预留20个单位
CatCardConst.LocalState = {
    NONE = 0,
    ---单轮结算相关---
    IN_ROUNDENDING = "ROUNDENDING",
    ROUNDENDING = 120, --单轮结算
    ROUNDENDING_PLAY_DIALOG = 121, --开始播放对话
    ROUNDENDING_DIALOG_END = 122, --对话播放结束
    ROUNDENDING_WAIT_TOUCH = 123, --等待点击结算
    ROUNDENDING_ON_VIEW_TOUCH = 124, --点击结算，进入下一轮
    ROUNDENDING_CHECK_TO_NEXT_ROUND = 125, --检测是否需要进入下一轮
    ROUNDENDING_SENDING_GET_REWARD = 126, --发送结算奖励协议
    ROUNDENDING_RECEIVE_REWARD = 127, --收到结算协议
    ROUNDENDING_CHECK_END_DIALOG = 128, --检测结束对话
    ROUNDENDING_PLAY_END_DIALOG = 129, --播放ending剧情
    ROUNDENDING_END_STROY = 130, --结束对话播放完成
    ROUNDENDING_WAIT_RESULT_VIEW_CLOSE = 131, --等待大結算
    ROUNDENDING_END_ON_VIEW_CLOSE = 132, --大结算界面关闭
    ROUNDENDING_WAIT_HANDLE_CLICK = 133, --等待手动关闭单轮结算
    ROUNDENDING_END = 140, --单轮结算结束

    ---初始化相关---
    IN_INITING = "INITING",
    INITING = 141,
    INITING_GET_CARDS = 142, --默认发牌
    INITING_PLAY_PREPARE_DIALOGUE = 143, --播放prepare剧情
    INITING_PREPARE_DIALOGUE_END = 144, --prepare 剧情结束
    INITING_PLAY_DIALOGUE = 145, --播放roll剧情
    INITING_PLAY_DIALOGUE_END = 146, --剧情播放结束
    INITING_CHECK_ROLL = 147, --检测roll结果
    INITING_ROLL_END = 148, --roll结束
    INITING_PREPARE_SHOW_CARDS = 149, --预显示卡
    INITING_IDLE = 159, --初始化闲置状态
    INITING_END = 160, --初始化结束

    ---发牌相关---
    IN_INITHAND = "INITHAND",
    INITHAND = 161,
    INITHAND_GET_CARDS = 162, --开始发牌
    INITHAND_GET_CARDS_END = 163, --发牌结束
    INITHAND_IDLE = 179, --发牌闲置状态
    INITHAND_END = 180, --发牌结束

    ---弃牌相关---
    IN_DISCARD = "IN_DISCARD",
    DISCARD_SHOW = 200, --弃牌堆展示
    DISCARD_END = 201, --弃牌堆展示结束

}

--[0: 行为状态(1：偷牌过程中失败 2:偷牌过程中可以成功 3:偷牌被抓，男主也摸牌,4:偷牌被抓，男主手牌满, 5:偷牌成功, ），1:偷牌过程中被抓时间]
---@class CatCardConst.StealState
CatCardConst.StealState = {
    NONE = 0,
    PREFAIL = 1, --预先失败
    CANSTEAL = 2, --可以偷牌
    STEALCAUGHTENEMYGETCARD = 3, --被发现，男主也拿牌
    STEALCAUGHTENEMYFULLCARD = 4, --被发下，男主牌满
    STEALSUCCESS = 5,
    END = 1000, ---整个状态结束
    SEND = 1001,
}

---@class CatCardConst.StealPressState
CatCardConst.StealPressState = {
    Start = 1, --按压开始
    Pressing = 2, --正在按压中
    Finish = 3, --按压完成
    Cancel = 4, --取消按压
    Full = 5,  --手牌已满，无法偷牌
}

--action args:[0: 行为状态(1:抢牌失败 2:抢牌成功，尚未抽牌 3：抢牌成功，已经抽牌)]
---@class CatCardConst.RobState
CatCardConst.RobState = {
    NONE = 0,
    FAIL = 1,
    SUCCESS_NO_GET_CARD = 2,
    SUCCESS_GET_CARD = 3,
    INIT = 1000,
    END = 1001,
    GIVE_UP = 1002,
}
--[0: 行为状态(1:互换手牌失败 2:互换手牌成功,3:反悔失败,4:反悔成功)]
---@class CatCardConst.ExchangeState
CatCardConst.ExchangeState = {
    NONE = 0,
    FAIL = 1,
    SUCCESS = 2,
    UNDO_FAIL = 3,
    UNDO_SUCCESS = 4,

    INIT = 1000,
    GIVE_UP = 2000,
}

---@class CatCardConst.ExchangeType
CatCardConst.ExchangeType = {
    None = 0, --选择卖萌
    Exchanging = 1, --选择反悔
    ExchangeEnd = 2, --换牌结束
    ENDED = 100,
}

--[0: 行为状态(1:开始悔牌 2:抓包失败，悔牌成功 3：抓包成功，阻止换牌，4：抓包成功，女主不能换牌，5：抓包成功，女主换牌，6：抓包成功，女主放弃换牌)
---@class CatCardConst.RegretState
CatCardConst.RegretState = {
    NONE = 0,
    BEGINNING = 1, --开始悔牌
    CAUGHTFAILED = 2, --抓包失败，悔牌成功
    CAUGHTSUC_PRE = 3, --抓包成功，阻止换牌
    CAUGHTSUC_MINEMAX = 4, --抓包成功，女主不能换牌
    CAUGHTSUC_MINECHANGE = 5, --抓包成功，女主换牌
    CAUGHTSUC_MINECANCEL = 6, --抓包成功，女主放弃换牌
    END = 1000, --结束
}

CatCardConst.DiscardState = {
    None = 0,
    BEGINNING = 1, --开始牌面展示
    END = 2, --结束
}

---卡片子类型
---@class CatCardConst.SubType
CatCardConst.SubType = {
    NORMALBACK = 1, --普通底格
    DOUBLEBACK = 2, --双倍底格

    NORMALCARD = 1, --数字牌
    FUNCCARD = 2, --功能牌

    COLORWHITE = 1, --白色
    COLORBLACK = 2, --黑色
    COLORTRIPLE = 3, --三色
    COLORORANGE = 4, --橘色

    FUNCMONEY = 1, --招财猫
    FUNCSHARE = 2, --共享猫
    FUNCROBBER = 3, --强盗猫
    FUNCDESTROY = 4, --拆迁猫
    FUNCREBUILD = 5 --重建猫
}

---功能牌类型
---@class CatCardConst.FuncCardType
CatCardConst.FuncCardType = {
    None = 0, --弃牌堆
    PASSCARD = 1, --跳过喵
    FROZENCARD = 2, --冰冻喵
    VETOCARD = 3, --否决喵
    RICHCARD = 4, --发财喵
    GREEDYCARD = 5, --贪心喵
    SHOWCARD = 6, --给喵看看
    STEALCARD = 7, --顺手牵喵
    DISCOLORCARD = 8, --变色喵
    BANKRUPTCYCARD = 9, --破产喵
    SMALLCARD = 10, --变小喵
    REMOVECARD = 11, --拆迁喵
    EXICITEDCARD = 12, --兴奋喵
}

---数据解析枚举
CatCardConst.DataParserType = {
    Default = 100,
    Wander = 1001,
    Steal = 1002,
    Rob = 1003,
    Regret = 1004,
    Exchange = 1005,
}

---Sp 解析类型转换
CatCardConst.SwitchSpParseType = {
    [CatCardConst.SpecialType.WANDERINGFORREPLACE] = CatCardConst.DataParserType.Wander,
    [CatCardConst.SpecialType.STEAL] = CatCardConst.DataParserType.Steal,
    [CatCardConst.SpecialType.ROB] = CatCardConst.DataParserType.Rob,
    [CatCardConst.SpecialType.REGRET] = CatCardConst.DataParserType.Regret,
    [CatCardConst.SpecialType.EXCHANGE] = CatCardConst.DataParserType.Exchange,
}
---动作类型
---@class CatCardConst.AnimationType
CatCardConst.AnimationType = {
    GETCARD = 1, --抽数字牌
    POPCARD = 2, --出数字牌
    --GETFUNCCARD = 3, --抽功能牌
    --POPFUNCCARD = 4, --出功能牌

    NPCPLAY = 0, --NPC出牌(发给服务器用的统称，出牌和抽牌是服务器下发的,还是1和2) (新版协议npc出牌类型id改为0了)

    SURRENDER = 99, --投降

    ---自定义类型
    DEFAULT = 1000, --默认，用于只播放动画需求
    SELECT_CARD = 1001, --选卡
    UN_SELECT_CARD = 1002, --取消选卡
    SWITCH_CARD = 1003, --换牌动画
    ROB_SHOW_CARD = 1004, --显示抢牌动画
    ROB_GET_CARD = 1004, --显示抢牌获取动画
    EXCHANGE_CARD = 1005, --互换手牌
    MOVE_MODEL = 1006, --移动模型
    REGRET_CARD = 1007, --悔牌
    REGRET_VIEW = 1008, --悔牌ui
    SCORE_VIEW = 1009, --得分ui动画
}

---喵喵牌action类型
---@class CatCardConst.MiaoActionType
CatCardConst.MiaoActionType = {
    Nope = 0, -- npc出牌用这个
    DrawNumCard = 1, -- 抽数字牌
    PlayNumCard = 2, -- 出数字牌
    DrawFuncCard = 3, -- 抽功能牌
    PlayFuncCard = 4, -- 出功能牌
    DiscardSelf = 5, -- 丢弃自己的手牌
    DiscardReveal = 6, -- 丢弃对手展示的手牌
    PassVeto = 7, -- 放弃否决
    FinishFuncCard = 8, -- 结束功能牌阶段
}

---功能牌表现效果类型
---@class CatCardConst.FuncEffectType
CatCardConst.FuncEffectType = {
    Nope = 0,
    DrawNum = 1, -- 抽数字牌 args: 0+: cardID列表
    DrawFunc = 2, -- 抽功能牌 args: 0+: cardID列表
    DiscardNum = 3, -- 扔数字牌 args: 0: 卡牌索引
    DiscardFunc = 4, -- 扔功能牌 args: 0: 卡牌索引
    Check = 5, -- 查看对方手牌 args: 0+: cardID列表
    Recycle = 6, -- 从弃牌堆中回收 args: 0: 卡类型, 1: card索引
    Bankrupt = 7, -- 双方丢弃所有牌 args: 0: 卡类型, 1+:对方扔牌列表
    ChangeSlotCard = 8, -- 修改格子上得数字卡 args: 0: slot index 1: cardID
    Demolish = 9, -- 拆除格子上得数字卡 args: 0: slot index
    AddBuff = 10, -- 添加buff args: 0: buffID
    DelBuff = 11, -- 删除buff args: 0: buffID
    DiscardQuery = 12, -- 弃牌询问 args: 0: count
    ChangeSlotColor = 13, -- 修改格子上得颜色 args: 0: slot index 1: slotID
    VetoQuery = 14, -- 否决请求 args: 0: cardID
    Veto = 15, -- 否决效果 args: 0: cardID
    RevealNDiscard = 16, --查看对方手牌并丢弃(npc专用,查看后直接丢弃) args: 0: 丢弃的cardID, 1+: cardID列表
    DrawFuncDiscard = 17, --抽功能牌并丢弃 args: 0:抽牌数量， 1+ cardID列表（不可见时为0）
    CheckPlayerCard = 100, --查看男主手牌
    SkipFrozen = 101, --女主跳过功能牌阶段（有冰冻buff）
}

--和弃牌面互斥的效果
CatCardConst.DiscardMutual = {
    CatCardConst.FuncEffectType.DiscardQuery,
    CatCardConst.FuncEffectType.Check,
    CatCardConst.FuncEffectType.Recycle,
    CatCardConst.FuncEffectType.RevealNDiscard
}

--可返回主界面的效果
CatCardConst.CanBackFuncEffect = {
    CatCardConst.FuncEffectType.Check,
    CatCardConst.FuncEffectType.DiscardQuery
}

---@class CatCardConst.CatCardType
CatCardConst.CatCardType = {
    None = 0, --全部卡牌
    Num = 1, --数字卡牌
    Func = 2, --功能卡牌
}

---立牌面icon显示类型
---@class CatCardConst.DiscardIconType
CatCardConst.DiscardIconType = {
    DisPlayer = 0, --女主弃牌
    DisEnemy = 1, --男主弃牌
    StealPlayer = 2, --女主顺手牵羊
    StealEnemy = 3, --男主顺手牵羊
    CheckDiscard = 4, --查看弃牌堆
    Check = 5, --女主使用过河拆桥
}

---立牌面title显示内容
CatCardConst.DiscardTitleInfo = {
    [CatCardConst.DiscardIconType.DisPlayer] = UITextConst.UI_TEXT_35056,
    [CatCardConst.DiscardIconType.DisEnemy] = UITextConst.UI_TEXT_35058,
    [CatCardConst.DiscardIconType.StealPlayer] = UITextConst.UI_TEXT_35057,
    [CatCardConst.DiscardIconType.StealEnemy] = UITextConst.UI_TEXT_35057,
    [CatCardConst.DiscardIconType.CheckDiscard] = UITextConst.UI_TEXT_35060,
    [CatCardConst.DiscardIconType.Check] = UITextConst.UI_TEXT_35059,
}

---动画状态类型
---@class CatCardConst.AnimationState
CatCardConst.AnimationState = {
    NONE = 0,
    MOVE = 1 << 1,
    ANIMATION = 1 << 2,
    SCALE = 1 << 3,
    ROTATION = 1 << 4,
    ROTATION_X = 1 << 5,
    ROTATION_Y = 1 << 6,
    ROTATION_Z = 1 << 7,
    BEIZER = 1 << 8
}

---动作运行状态
---@class CatCardConst.AniRunningState
CatCardConst.AniRunningState = {
    KILL = 1, --停止
    PAUSE = 2, --暂停
    RESUME = 3, --重新运行
}

CatCardConst.EffectType = {
    DEFAULT = 0,
}

CatCardConst.SoundType = {
    DEFAULT = 0,
}

--Seat 出牌的类型
---@class CatCardConst.SeatType
CatCardConst.SeatType = {
    PLAYER = 1,
    ENEMY = 2,
}

---@class CatCardConst.EffectState
CatCardConst.EffectState = {
    SHOW = 1,
    HIDE = 2
}

---猫动画
CatCardConst.CatAnimation = {
    APPEAR = "AppearAct",
    NORMAL_IDLE = "NormalIdle",
    DOUBLE = "DoubleAct",
    DOUBLE_IDLE = "DoubleIdle",
    NO_MATCH = "NotMatchAct",
    NO_MATHCH_IDLE = "NotMatchIdle",
    PICK = "PickUpAct",
    PICK_IDLE = "PickUpIdle",
    PUT_DOWN = "PutDownAct"
}

---喵喵牌相关特效
---@class CatCardConst.Effect
CatCardConst.Effect = {
    SLOT_CAN_SELECT = "Fx_BlockCanChoose_", --格子可选择特效
    SLOT_SELECTED = "Fx_BlockChoosed_", --格子可选择特效
    CARD_SELECTED = "Fx_CardSelected", --选中格子特效
    CARD_CAN_SELECTED = "Fx_CardCanSelect", --选中格子特效
    CARD_CANT_SELECT = "Fx_CardCannotSelect", --卡牌不可选中
    MODEL_APPEAR = "Fx_ModelAppear", --模型出现特效（杯子出现，猫出现）
    CARD_SELECTED_UI = "fx_card_selected", --ui特效
    CARD_CAN_SELECT_UI = "fx_card_can_select", --ui特效
    MODEL_APPEAR_UI = "fx_model_appear", --ui特性
    SLOT_PRE_SELECT = "Fx_ManBlockChoose", --格子预选特效
    CARD_DESTROY = "Fx_CardDistory", --卡牌销毁特效
    CARD_BUFF_TRAIL = "fx_function_buff", --卡牌buff拖尾ui特效
    CAD_WND_BTN_FINISH_HINT = "fx_ui_btn_FinisHint", --ui 特效，结束回合按钮提示缩放动效
}

CatCardConst.SelectEffectMap = {}
CatCardConst.CanSelectEffectMap = {}

---喵喵牌音效
CatCardConst.Sound = {
    SYSTEM_MIAO_CARDFLY = AudioConst.Audio_2001,
    SYSTEM_MIAO_CARDTURN = AudioConst.Audio_2002,
    SYSTEM_MIAO_CARDSELECT = AudioConst.Audio_2003,
    SYSTEM_MIAO_APPEAR = AudioConst.Audio_2004,
    SYSTEM_MIAO_PUTDOWN = AudioConst.Audio_2005,
    SYSTEM_MIAO_CATCHEER = AudioConst.Audio_2006,
    SYSTEM_MIAO_CATCRY = AudioConst.Audio_2007,
    SYSTEM_MIAO_CATNORMAL = AudioConst.Audio_2008,
    SYSTEM_MIAO_CLICKBLOCK = AudioConst.Audio_2009,
    SYSTEM_MIAO_CHANGE = AudioConst.Audio_2010,
    SYSTEM_MIAO_ENDFAIL = AudioConst.Audio_2011,
    SYSTEM_MIAO_ENDDRAW = AudioConst.Audio_2012,
    SYSTEM_MIAO_ENDSUCCESS = AudioConst.Audio_2013,
    SYSTEM_MIAO_STEALING = AudioConst.Audio_2014,
    SYSTEM_MIAO_CATCHED = AudioConst.Audio_2015,
    SYSTEM_MIAO_ROBCARDINCENTER = AudioConst.Audio_2016,
    SYSTEM_MIAO_CARDBACK = AudioConst.Audio_2017,
    SYSTEM_MIAO_FUNCTIONCARDFLY = AudioConst.Audio_2018,
    SYSTEM_MIAO_CARDTURN_FLOAT = AudioConst.Audio_2019,
    SYSTEM_MIAO_CARDREJECT = AudioConst.Audio_2021,
    SYSTEM_MIAO_GETBUFF = AudioConst.Audio_2033,
    SYSTEM_MIAO_BUFFSKIP = AudioConst.Audio_2022,
    SYSTEM_MIAO_BUFFFREEZE = AudioConst.Audio_2023,
    SYSTEM_MIAO_CARDBANKRUPT = AudioConst.Audio_2024,
    SYSTEM_MIAO_CARDEXPLODE = AudioConst.Audio_2025,
    SYSTEM_MIAO_BONUSPOINT = AudioConst.Audio_2026,
    SYSTEM_MIAO_RANDOMSELECT = AudioConst.Audio_2027,
    SYSTEM_MIAO_RANDOMCOLOR = AudioConst.Audio_2028,
    SYSTEM_MIAO_DROPDOWNLIST = AudioConst.Audio_2031,
    SYSTEM_MIAO_GETCARD_SNITCH = AudioConst.Audio_2032,
    SYSTEM_MIAO_RANDOMCOLOR = AudioConst.Audio_2028,
    SYSTEM_MIAO_SMOKE = AudioConst.Audio_2030,
}

---动画配置
CatCardConst.AnimationConf = {
    [CatCardConst.AnimationType.DEFAULT] = string.concat(CatCardConst.BASE_LUA_DIR, "Animation.DefaultAni"),
    [CatCardConst.AnimationType.GETCARD] = string.concat(CatCardConst.BASE_LUA_DIR, "Animation.GetCardAni"),
    [CatCardConst.AnimationType.POPCARD] = string.concat(CatCardConst.BASE_LUA_DIR, "Animation.PopCardAni"),
    [CatCardConst.AnimationType.SURRENDER] = string.concat(CatCardConst.BASE_LUA_DIR, "Animation.SurrenderAni"),
    [CatCardConst.AnimationType.NPCPLAY] = string.concat(CatCardConst.BASE_LUA_DIR, "Animation.NpcPlayCardAni"),
    [CatCardConst.AnimationType.SELECT_CARD] = string.concat(CatCardConst.BASE_LUA_DIR, "Animation.SelectCardAni"),
    [CatCardConst.AnimationType.UN_SELECT_CARD] = string.concat(CatCardConst.BASE_LUA_DIR, "Animation.UnSelectCardAni"),
    [CatCardConst.AnimationType.SWITCH_CARD] = string.concat(CatCardConst.BASE_LUA_DIR, "Animation.SwitchAnimation"),
    [CatCardConst.AnimationType.ROB_SHOW_CARD] = string.concat(CatCardConst.BASE_LUA_DIR, "Animation.RobShowCardAni"),
    [CatCardConst.AnimationType.EXCHANGE_CARD] = string.concat(CatCardConst.BASE_LUA_DIR, "Animation.ExchangeCardAni"),
    [CatCardConst.AnimationType.MOVE_MODEL] = string.concat(CatCardConst.BASE_LUA_DIR, "Animation.MoveModelAni"),
    [CatCardConst.AnimationType.REGRET_CARD] = string.concat(CatCardConst.BASE_LUA_DIR, "Animation.RegretCardAni"),
    [CatCardConst.AnimationType.REGRET_VIEW] = string.concat(CatCardConst.BASE_LUA_DIR, "Animation.RegretViewAni"),
    [CatCardConst.AnimationType.SCORE_VIEW] = string.concat(CatCardConst.BASE_LUA_DIR, "Animation.ScoreViewAni"),
}

---action
local ActionConf = {
    [CatCardConst.SpecialType.ROUND_END] = string.concat(CatCardConst.BASE_LUA_DIR, "Action.RoundEndAction"),
    [CatCardConst.SpecialType.INIT] = string.concat(CatCardConst.BASE_LUA_DIR, "Action.InitAction"),
    [CatCardConst.SpecialType.INIT_HAND] = string.concat(CatCardConst.BASE_LUA_DIR, "Action.InitHandAction"),
    [CatCardConst.SpecialType.NET_WORK] = string.concat(CatCardConst.BASE_LUA_DIR, "Action.NetworkAction"),
}
CatCardConst.GuideActionConf = {
    [CatCardConst.SpecialType.ROUND_END] = string.concat(CatCardConst.BASE_LUA_DIR, "Action.Guide.RoundEndAction"),
    [CatCardConst.SpecialType.INIT] = string.concat(CatCardConst.BASE_LUA_DIR, "Action.Guide.InitAction"),
    [CatCardConst.SpecialType.INIT_HAND] = string.concat(CatCardConst.BASE_LUA_DIR, "Action.Guide.InitHandAction"),
}

CatCardConst.EffectConf = {
    [CatCardConst.EffectType.DEFAULT] = string.concat(CatCardConst.BASE_LUA_DIR, "Effect.CatCardDefaultEffect"),
}

CatCardConst.SoundConf = {
    [CatCardConst.SoundType.DEFAULT] = string.concat(CatCardConst.BASE_LUA_DIR, "Sound.CatCardDefaultSound"),
}

---状态配置
CatCardConst.StateConf = {
    [CatCardConst.State.INIT] = {
        handler = string.concat(CatCardConst.BASE_LUA_DIR, "State.CatCardInitState")
    },
    [CatCardConst.State.ROLL] = {
        handler = string.concat(CatCardConst.BASE_LUA_DIR, "State.CatCardRollState")
    },
    [CatCardConst.State.INITHAND] = {
        handler = string.concat(CatCardConst.BASE_LUA_DIR, "State.CatCardInitHandState")
    },
    [CatCardConst.State.P1_PRE] = {
        tip_id = UITextConst.UI_TEXT_6309,
        tip_id2 = UITextConst.UI_TEXT_6326,
        tip_bg_active = true,
        handler = string.concat(CatCardConst.BASE_LUA_DIR, "State.CatCardP1PreState"),
        tip_num_plus = UITextConst.UI_TEXT_35052,
    },
    [CatCardConst.State.P1_ACT] = {
        tip_id = UITextConst.UI_TEXT_6309,
        tip_id2 = UITextConst.UI_TEXT_6326,
        tip_bg_active = true,
        handler = string.concat(CatCardConst.BASE_LUA_DIR, "State.CatCardP1ActState")

    },
    [CatCardConst.State.P2_PRE] = {
        --tip_id = UITextConst.UI_TEXT_6310, 配置已经被移除
        tip_bg_active = false,
        handler = string.concat(CatCardConst.BASE_LUA_DIR, "State.CatCardP2PreState")

    },
    [CatCardConst.State.P2_ACT] = {
        --tip_id = UITextConst.UI_TEXT_6310, 配置已经被移除
        tip_bg_active = false,
        handler = string.concat(CatCardConst.BASE_LUA_DIR, "State.CatCardP2ActState")

    },
    [CatCardConst.State.END] = {

        handler = string.concat(CatCardConst.BASE_LUA_DIR, "State.CatCardEndState")

    }
}

CatCardConst.SpecialTypeConf = {
    [CatCardConst.SpecialType.WANDERINGFORREPLACE] = {
        PipelineType = CatCardConst.ActionPipelineType.Wander,
        ActionList = { CatCardConst.ActionType.WaitTime, CatCardConst.ActionType.WanderWait, CatCardConst.ActionType.WanderEnd },
    },
    [CatCardConst.SpecialType.REGRET] = {
        PipelineType = CatCardConst.ActionPipelineType.Regret,
        ActionList = { CatCardConst.ActionType.RegretStart, CatCardConst.ActionType.RegretEnd },
    }
}

CatCardConst.GuideStateConf = {
    [CatCardConst.State.P1_PRE] = {
        handler = string.concat(CatCardConst.BASE_LUA_DIR, "State.Guide.CatCardP1PreState")
    }
}
---@class CatCardConst.PlayerType
CatCardConst.PlayerType = {
    PLAYER = 0,
    ENEMY = 1,
}

---@class CatCardConst.CardType
CatCardConst.CardType = {
    SLOT = 1,
    CARD = 2
}

---@class CatCardConst.CardSubType
CatCardConst.CardSubType = {
    NORMAL = 1,
    SPECIAL = 2
}

CatCardConst.RoundConf = {
    [CatCardConst.RoundRes.LOSS] = {
        bg_index = 1, --背景
        ani_index = 1, --动画节点
        cat_light_index = 1, --猫背后的光效
        name_bg_index = 1, --名称背景
        score_is_on = false, --分数
        cat_ani_name = { "LoseAct", "LoseIdle" },
        cat_name = "MiaoPos",
        cat_root = "Lose",
        action = "lose",
        sound = CatCardConst.Sound.SYSTEM_MIAO_ENDFAIL,
    },
    [CatCardConst.RoundRes.WIN] = {
        bg_index = 0,
        ani_index = 0,
        cat_light_index = 0,
        name_bg_index = 0,
        score_is_on = true,
        cat_ani_name = { "WinAct", "WinIdle" },
        cat_name = "MiaoPos",
        cat_root = "Win",
        action = "win",
        sound = CatCardConst.Sound.SYSTEM_MIAO_ENDSUCCESS,

    },
    [CatCardConst.RoundRes.DRAW] = {
        bg_index = 2,
        ani_index = 2,
        cat_light_index = 1,
        name_bg_index = 2,
        score_is_on = false,
        cat_ani_name = "DrawIdle",
        cat_name = "MiaoPos",
        cat_root = "Draw",
        action = "draw",
        sound = CatCardConst.Sound.SYSTEM_MIAO_ENDDRAW,
    }
}

---@class CatCardConst.RoundCheckType
CatCardConst.RoundCheckType = {
    None = 0, --不显示结算界面和剧情
    Normal = 1, --正常显示结算界面和检测剧情
    ShowView = 2, --显示结算界面，不显示剧情 
}

CatCardConst.TypeConf = {
    [CatCardConst.CardType.SLOT] = {
        CAT = {
            name = "cat",
            get_model_func_name = "GetCatModel",
            is_dynamic = true,
            is_replace = true,
            is_play_ani = true,
            --todo
            --is_force_replace = true,
            ignore_local_state = CatCardConst.WanderingState.WANDERING,
            get_ani_func_name = "GetCatAnimation"
        },
        CUP = {
            name = "cup",
            get_model_func_name = "GetCupModel",
            ignore_local_state = CatCardConst.WanderingState.WANDERING,
            is_dynamic = false,
            is_replace = true,
            is_play_sound = true,
            is_play_effect = true,
            sound = CatCardConst.Sound.SYSTEM_MIAO_APPEAR,
            effect = CatCardConst.Effect.MODEL_APPEAR_UI,
            effect_dt = CatCardConst.MODEL_APPEAR_UI_EFFECT_DT
        },
        CUP_PLATE = {
            name = "cupplate",
            get_model_func_name = "GetCupPlateModel",
            ignore_local_state = CatCardConst.WanderingState.WANDERING,
            is_dynamic = false,
            is_replace = true,
        },
        CUP_MAT = {
            name = "cupmat",
            get_model_func_name = "GetCupMatModel",
            is_dynamic = false,
            is_replace = true,
        },
        CUP_NUM = {
            name = "cupnum",
            get_model_func_name = "GetNumModel",
            is_dynamic = false,
            is_replace = true,
        },
        FLAG = {
            name = "flag",
            get_model_func_name = "GetFlagModel",
            is_dynamic = false,
            is_replace = true
        },
        POS = "BlockPos",
        MODEL_LUA_PATH = string.concat(CatCardConst.BASE_LUA_DIR, "Logic.CatSlotLogic"),
        GET_MODEL = "GetSlot",
        POS_INDEX = 1,
        MODEL_MAP = "slot_models",
        NODE_PREFIX = "Slot_",
        SWITCH_COUNT = 2, --换牌数量
        REGRET_COUNT = 1, --悔牌数量
        TOUCH_NOT_VALID_TEXT_ID = UITextConst.UI_TEXT_35044,
    },
    [CatCardConst.CardType.CARD] = {
        POS = { [CatCardConst.PlayerType.PLAYER] = "MyHandCard/HandCardPos", [CatCardConst.PlayerType.ENEMY] = "OpponentHandCard/HandCardPos" },
        POS_INDEX = 0,
        MODEL_LUA_PATH = string.concat(CatCardConst.BASE_LUA_DIR, "Logic.CatCardLogic"),
        GET_MODEL = "GetCard",
        MODEL_MAP = "card_models",
        GET_MODEL_PATH_FUNC = "GetCardModel",
        MODEL_PARENT = "",
        NODE_PREFIX = { [CatCardConst.PlayerType.PLAYER] = "CardPlayer_", [CatCardConst.PlayerType.ENEMY] = "CardEnemy_" },
        SWITCH_COUNT = 2, --换牌数量
        REGRET_COUNT = 1, --悔牌数量
        TOUCH_NOT_VALID_NUM_TEXT_ID = UITextConst.UI_TEXT_35010, --数字牌不可选
        TOUCH_NOT_VALID_FUNC_TEXT_ID = UITextConst.UI_TEXT_35045, --功能牌不可选
        TOUCH_NOT_VALID_FROZEN_TEXT_ID = UITextConst.UI_TEXT_35047 --冰冻buff提示
    }

}

---特效表演配置
CatCardConst.EffectShowConf = {
    [CatCardConst.Effect.CARD_SELECTED_UI] = {
        is_ui = true,
    },
    [CatCardConst.Effect.CARD_CAN_SELECT_UI] = {
        is_ui = true,
    },
    [CatCardConst.Effect.MODEL_APPEAR_UI] = {
        is_ui = true,
    },
    [CatCardConst.Effect.SLOT_PRE_SELECT] = {
        parent = "arrow",
    },
}

CatCardConst.ActionSwitch = {
    [CatCardConst.MiaoActionType.DrawNumCard] = CatCardConst.ActionType.GetCard,
    [CatCardConst.MiaoActionType.PlayNumCard] = CatCardConst.ActionType.PopCard,
    [CatCardConst.MiaoActionType.DrawFuncCard] = CatCardConst.ActionType.GetCard,
    [CatCardConst.MiaoActionType.PlayFuncCard] = CatCardConst.ActionType.PopFuncCard,
    [CatCardConst.MiaoActionType.DiscardSelf] = CatCardConst.ActionType.Discard,
    [CatCardConst.MiaoActionType.DiscardReveal] = CatCardConst.ActionType.Discard,
    [CatCardConst.MiaoActionType.PassVeto] = CatCardConst.ActionType.PassVeto,
    [CatCardConst.MiaoActionType.FinishFuncCard] = CatCardConst.ActionType.FinishFuncCard,
}

CatCardConst.EffectSwitch = {
    [CatCardConst.FuncEffectType.DrawNum] = CatCardConst.ActionType.GetCard,
    [CatCardConst.FuncEffectType.DrawFunc] = CatCardConst.ActionType.GetCard,
    [CatCardConst.FuncEffectType.DiscardNum] = CatCardConst.ActionType.DiscardCard,
    [CatCardConst.FuncEffectType.DiscardFunc] = CatCardConst.ActionType.DiscardCard,
    [CatCardConst.FuncEffectType.Demolish] = CatCardConst.ActionType.RefreshSlotAction,
    [CatCardConst.FuncEffectType.ChangeSlotCard] = CatCardConst.ActionType.RefreshSlotAction,
    [CatCardConst.FuncEffectType.ChangeSlotColor] = CatCardConst.ActionType.ChangeSlotColor,
    [CatCardConst.FuncEffectType.Check] = CatCardConst.ActionType.Discard,
    [CatCardConst.FuncEffectType.Recycle] = CatCardConst.ActionType.Discard,
    [CatCardConst.FuncEffectType.AddBuff] = CatCardConst.ActionType.AddBuff,
    [CatCardConst.FuncEffectType.DelBuff] = CatCardConst.ActionType.RemoveBuff,
    [CatCardConst.FuncEffectType.DiscardQuery] = CatCardConst.ActionType.Discard,
    [CatCardConst.FuncEffectType.VetoQuery] = CatCardConst.ActionType.CatCardTip,
    [CatCardConst.FuncEffectType.Veto] = CatCardConst.ActionType.CatCardTip,
    [CatCardConst.FuncEffectType.Bankrupt] = CatCardConst.ActionType.Bankrupt,
    [CatCardConst.FuncEffectType.RevealNDiscard] = CatCardConst.ActionType.Discard,
    [CatCardConst.FuncEffectType.DrawFuncDiscard] = CatCardConst.ActionType.DrawFuncDiscard,
    [CatCardConst.FuncEffectType.SkipFrozen] = CatCardConst.ActionType.SendMsg,
}

---@class CatCardConst.PlayerTypeSwitch
CatCardConst.PlayerTypeSwitch = {
    [CatCardConst.SeatType.PLAYER] = CatCardConst.PlayerType.PLAYER,
    [CatCardConst.SeatType.ENEMY] = CatCardConst.PlayerType.ENEMY,
}

---@class CatCardConst.SeatTypeSwitch
CatCardConst.SeatTypeSwitch = {
    [CatCardConst.PlayerType.PLAYER] = CatCardConst.SeatType.PLAYER,
    [CatCardConst.PlayerType.ENEMY] = CatCardConst.SeatType.ENEMY,
}

CatCardConst.PipelineSwitch = {

}

CatCardConst.DataParserConf = {
    [CatCardConst.DataParserType.Default] = string.concat(CatCardConst.BASE_LUA_DIR, "Data.DataParser.DefaultDataParser"),
    [CatCardConst.DataParserType.Wander] = string.concat(CatCardConst.BASE_LUA_DIR, "Data.DataParser.WanderDataParser"),
    [CatCardConst.DataParserType.Exchange] = string.concat(CatCardConst.BASE_LUA_DIR, "Data.DataParser.ExchangeDataParser"),
    [CatCardConst.DataParserType.Regret] = string.concat(CatCardConst.BASE_LUA_DIR, "Data.DataParser.RegretDataParser"),
    [CatCardConst.DataParserType.Rob] = string.concat(CatCardConst.BASE_LUA_DIR, "Data.DataParser.RobDataParser"),
    [CatCardConst.DataParserType.Steal] = string.concat(CatCardConst.BASE_LUA_DIR, "Data.DataParser.StealDataParser"),
}

---@class CatCardConst.TargetOwnerType
CatCardConst.TargetOwnerType = {
    All = 0,
    Self = 1,
    Opposite = 2,
}

---@class CatCardConst.BuffType
CatCardConst.BuffType = {
    PassCard = 1, --跳过喵
    FrozenCard = 2, --冰冻喵
    ExciteCard = 3, --兴奋喵
}

---功能卡相关配置
---@class CatCardConst.FuncCardTypeConf
---@field tip_type CatCardConst.TipsType
---@field target_owner_type CatCardConst.TargetOwnerType
---@field target_filter_type CatCardConst.SelectTargetFilterType
---@field use_card_condition_check string  条件检测的function名称：UseCardConditionAction类
CatCardConst.FuncCardTypeConf = {
    [CatCardConst.FuncCardType.DISCOLORCARD] = {
        tip_type = CatCardConst.TipsType.ChangeSlotColor,
        target_owner_type = CatCardConst.TargetOwnerType.All,
        target_filter_type = CatCardConst.SelectTargetFilterType.OccupySlot | CatCardConst.SelectTargetFilterType.EmptySlot,
        target_type = CatCardConst.CardTargetType.Slot,
        anim_time = 0.8, ---单轮动画时间
        loop_count = 2  ---循环轮数
    },
    [CatCardConst.FuncCardType.REMOVECARD] = {
        tip_type = CatCardConst.TipsType.Demolish,
        target_owner_type = CatCardConst.TargetOwnerType.Opposite,
        target_filter_type = CatCardConst.SelectTargetFilterType.OccupySlot | CatCardConst.SelectTargetFilterType.FilterByOwner,
        use_card_condition_check = "UseSlotTargetCard",
        use_failed_text = UITextConst.UI_TEXT_35032,
        target_type = CatCardConst.CardTargetType.Slot,
    },
    [CatCardConst.FuncCardType.SMALLCARD] = {
        tip_type = CatCardConst.TipsType.ChangeSlotCard,
        target_owner_type = CatCardConst.TargetOwnerType.Opposite,
        target_filter_type = CatCardConst.SelectTargetFilterType.OccupySlot | CatCardConst.SelectTargetFilterType.FilterByOwner,
        use_card_condition_check = "UseSlotTargetCard",
        use_failed_text = UITextConst.UI_TEXT_35033,
        target_type = CatCardConst.CardTargetType.Slot,

    },
    [CatCardConst.FuncCardType.VETOCARD] = {
        use_card_condition_check = "UseVetoCard",
        use_failed_text = UITextConst.UI_TEXT_35031,
    },
    [CatCardConst.FuncCardType.STEALCARD] = {
        use_card_condition_check = "UseStealCard",
        use_failed_text = UITextConst.UI_TEXT_35034,
        cardId = 2207,
    },
    [CatCardConst.FuncCardType.GREEDYCARD] = {
        use_card_condition_check = "UseGreedyCard",
        use_failed_text = UITextConst.UI_TEXT_35038,
        second_confirm_check = "SecondConfirmGreedyCard",
        second_confirm_text = UITextConst.UI_TEXT_35049,
    },
    [CatCardConst.FuncCardType.PASSCARD] = {
        use_card_condition_check = "UsePassCard",
        use_failed_text = UITextConst.UI_TEXT_35039,
    },
    [CatCardConst.FuncCardType.FROZENCARD] = {
        use_card_condition_check = "UseFrozenCard",
        use_failed_text = UITextConst.UI_TEXT_35040,
    },
    [CatCardConst.FuncCardType.EXICITEDCARD] = {
        use_card_condition_check = "UseExcitedCard",
        use_failed_text = UITextConst.UI_TEXT_35041,
        second_confirm_check = "SecondConfirmExcitedCard",
        second_confirm_text = UITextConst.UI_TEXT_35048,
    },
    [CatCardConst.FuncCardType.SHOWCARD] = {
        second_confirm_check = "SecondConfirmShowCard",
        second_confirm_text = UITextConst.UI_TEXT_35050,
        second_tip_check = "SecondShowCardTipCheck",
        second_tip_text = UITextConst.UI_TEXT_35050,
    },
    [CatCardConst.FuncCardType.RICHCARD] = {
        second_confirm_check = "SecondConfirmRichCard",
        second_confirm_text = UITextConst.UI_TEXT_35043,
        use_card_condition_check = "UseRichCard",
        use_failed_text = UITextConst.UI_TEXT_35007,
    },
}

---功能牌动效配置数据
---@class CatCardConst.FuncCardEffectConfig
---@field effect string
---@field key string

---@type table<CatCardConst.FuncCardType, CatCardConst.FuncCardEffectConfig>
CatCardConst.FuncCardEffectConfig = {
    [CatCardConst.FuncCardType.BANKRUPTCYCARD] = {
        effect = "fx_bankruptcy_card",
        key = "fx_ui_CatCard_bankrupt"
    }
}

---功能牌效果与功能牌类型索引字典
---@type table<CatCardConst.FuncEffectType, CatCardConst.FuncCardType>
CatCardConst.FuncEffectTypeFuncCardTypeDic = {
    [CatCardConst.FuncEffectType.Bankrupt] = CatCardConst.FuncCardType.BANKRUPTCYCARD
}

CatCardConst.SelectTargetTypeConf = {
    [CatCardConst.SelectTargetType.All] = {
        [CatCardConst.CardType.SLOT] = true,
        [CatCardConst.CardType.CARD] = true,
    },
    [CatCardConst.SelectTargetType.Slot] = {
        [CatCardConst.CardType.SLOT] = true,
    },
    [CatCardConst.SelectTargetType.Cat] = {
        [CatCardConst.CardType.SLOT] = true,
    },
    [CatCardConst.SelectTargetType.Card] = {
        [CatCardConst.CardType.CARD] = true,
    },
}


--region 数据合并
for k, v in pairs(ActionConf) do
    CatCardConst.ActionConf[k] = v
end

---所有action都走默认逻辑
for k, v in pairs(CatCardConst.FuncCardType) do
    if not CatCardConst.PipelineSwitch[v] then
        CatCardConst.PipelineSwitch[v] = CatCardConst.ActionPipelineType.Default
    end
end
--endregion

--region CatCard Dialogue
---剧情之间的状态
---@class CatCardConst.DialogueStateRelationShip
CatCardConst.DialogueStateRelationShip = {
    Wait = 1, --B加入等待队列
    Discard = 2, --B被丢弃，A继续播放
    Interrupt = 3, --A被打断，B取代A的位置开始播放
}

---@class CatCardConst.DialogueCtrlState
CatCardConst.DialogueCtrlState = {
    Start = 1, --开始播放剧情
    Pause = 2, --暂停正在播放的剧情（不针对特定剧情）
    Resume = 3, --恢复被暂停的剧情（不针对特定剧情）
    Stop = 4, --打断当前的剧情
    Clear = 5 --清理所有的剧情（不针对特定剧情）
}

---@class CatCardConst.DialogueVariable
CatCardConst.DialogueVariable = {
    ROLLID = 1, --出拳剧情树的ID
    PRECEDEINSTORY = 3, --出拳剧情树中的剧情先手
    REGRETCONDITIONSTORYID = 6, --悔牌时的条件ID，0--只有放弃， 1--可以换牌
    REGRETSTORYID = 4, --悔牌时的选择ID
    SURRENDERID = 7 --投降时选择的ID
}

---当前card的获取模式
---@class CatCardConst.CardMode
CatCardConst.CardMode = {
    Current = 1,
    Old = 2,
}

---喵喵牌剧情状态枚举
---@class CatCardConst.DialogueState
CatCardConst.DialogueState = {
    ChangeCardWandering = "ChangeCardWandering",
    ChangeCardInterrupt = "ChangeCardInterrupt",
    ChangeCardFailCurrent = "ChangeCardFailCurrent",
    ChangeCardFailRevert = "ChangeCardFailRevert",
    ChangeCardSuccess = "ChangeCardSuccess",
    ChangeCardWakeUp = "ChangeCardWakeUp",
    ChangeCardFailPutCard = "ChangeCardFailPutCard",
    ExchangeCardFirstTime = "ExchangeCardFirstTime",
    ExchangeCardNextTime = "ExchangeCardNextTime",
    ExchangeCardFailed = "ExchangeCardFailed",
    ExchangeCardFailedAfterSuccess = "ExchangeCardFailedAfterSuccess",
    ExchangeCardSuccess = "ExchangeCardSuccess",
    ExchangeCardRegretThinking = "ExchangeCardRegretThinking",
    ExchangeCardRegretSuccess = "ExchangeCardRegretSuccess",
    ExchangeCardRegretFailed = "ExchangeCardRegretFailed",
    GetManCardFirstTime = "GetManCardFirstTime",
    GetManCardNextTime = "GetManCardNextTime",
    GetManCardFailed = "GetManCardFailed",
    GetManCardFailedAfterSuccess = "GetManCardFailedAfterSuccess",
    GetManCardSuccess = "GetManCardSuccess",
    StealCardInterrupt = "StealCardInterrupt",
    StealCardFailCurrent = "StealCardFailCurrent",
    StealCardFailManGetCard = "StealCardFailManGetCard",
    StealCardFailManCardFull = "StealCardFailManCardFull",
    StealCardSuccess = "StealCardSuccess",
    StealCardThinking = "StealCardThinking",
    UndoCardCoverUp = "UndoCardCoverUp",
    UndoCardFailed = "UndoCardFailed",
    UndoCardSuccess = "UndoCardSuccess",
    UndoCardSucceedStopHim = "UndoCardSucceedStopHim",
    UndoCardSucceedLetItGoChangeToo = "UndoCardSucceedLetItGoChangeToo",
    UndoCardSucceedLetItGoAfterChange = "UndoCardSucceedLetItGoAfterChange",
    UndoCardSucceedLetItGoNoChange = "UndoCardSucceedLetItGoNoChange",
    UndoCardSucceedLetItGoUndoTooThinking = "UndoCardSucceedLetItGoUndoTooThinking",
    UndoCardSucceedLetItGoUndoTooRevert = "UndoCardSucceedLetItGoUndoTooRevert",
    Prepare = "Prepare",
    RollWin = "RollWin",
    RollLose = "RollLose",
    RollDraw = "RollDraw",
    InitHand = "InitHand",
    PlayerGetCard = "PlayerGetCard",
    PlayerPutCard = "PlayerPutCard",
    ManGetCard = "ManGetCard",
    ManPutCard = "ManPutCard",
    Successed = "Successed",
    Failed = "Failed",
    Draw = "Draw",
    PlayerSelect = "PlayerSelect",
    ManSelect = "ManSelect",
    Ending = "Ending",
    PlayerGetFuncCard = "PlayerGetFuncCard",
    PlayerSelectFuncCard = "PlayerSelectFuncCard",
    PlayerPutFuncCard = "PlayerPutFuncCard",
    PlayerPutFuncCardEffect = "PlayerPutFuncCardEffect",
    ManGetFuncCard = "ManGetFuncCard",
    ManSelectFuncCard = "ManSelectFuncCard",
    ManPutFuncCard = "ManPutFuncCard",
    ManPutFuncCardEffect = "ManPutFuncCardEffect",
    PlayerUseVote = "PlayerUseVote",
    PlayerCancelVote = "PlayerCancelVote",
    PlayerVoteEffect = "PlayerVoteEffect",
    ManVoteEffect = "ManVoteEffect",
    SingleRound = "SingleRound",
    GetManCardGiveUp = "GetManCardGiveUp",
    MSurrender = "MSurrender",
    PSurrender = "PSurrender",
}
--endregion CatCard Dialogue Over

CatCardConst.PlayerTypeConf = {
    [CatCardConst.PlayerType.PLAYER] = {
        icon_name = "OCX_image_mine_head",
        default_icon = "",
        score_ani_names = { "player_01", "player_02" },
        angle_percent = 0.5, --角度偏移量
        length_percent = 0.75, --长度偏移量
        is_need_icon = true,
        func_card_stack = "MyHandCard/PlayerHandCardPos",
        func_effect_dialogue = CatCardConst.DialogueState.PlayerPutFuncCardEffect,
        put_func_card = CatCardConst.DialogueState.PlayerPutFuncCard,
        get_func_card = CatCardConst.DialogueState.PlayerGetFuncCard,
        select_func_card = CatCardConst.DialogueState.PlayerSelectFuncCard,
        get_card = CatCardConst.DialogueState.PlayerGetCard,
        put_card = CatCardConst.DialogueState.PlayerPutCard,
    },

    [CatCardConst.PlayerType.ENEMY] = {
        icon_name = "OCX_image_enemy_head",
        default_icon = "",
        score_ani_names = { "man_01", "man_02" },
        angle_percent = 0.3,
        length_percent = 0.75,
        func_card_stack = "OpponentHandCard/RoleHandCardPos",
        play_func_card_speed = 2.5,
        play_func_card_easy_type = CatCardConst.MOVE_EASY_TYPE,
        play_func_card_rotation_dt = CatCardConst.CARD_ROTATION_DT,
        play_func_card_rotation_easy_type = CatCardConst.ROTATION_EASY_TYPE,
        play_veto_card_speed = 4,
        play_veto_card_easy_type = CatCardConst.MOVE_EASY_TYPE,
        play_veto_card_rotation_dt = CatCardConst.CARD_ROTATION_DT,
        play_veto_card_rotation_easy_type = CatCardConst.ROTATION_EASY_TYPE,
        func_effect_dialogue = CatCardConst.DialogueState.ManPutFuncCardEffect,
        put_func_card = CatCardConst.DialogueState.ManPutFuncCard,
        get_func_card = CatCardConst.DialogueState.ManGetFuncCard,
        select_func_card = CatCardConst.DialogueState.ManSelectFuncCard,
        get_card = CatCardConst.DialogueState.ManGetCard,
        put_card = CatCardConst.DialogueState.ManPutCard,
    },

}

---随机表现控制类型
---@class CatCardConst.ControlType
CatCardConst.RandomControlType = {
    DiscardShow = 1, --立牌面随机选择的速度
    FuncRandomOne = 2, --男主使用拆迁喵+变小喵随机1组
    FuncRandomTwo = 3, --男主使用拆迁喵+变小喵随机2组
    FuncRandomFour = 4, --男主使用拆迁喵+变小喵随机4组
    ChangeColor = 5, --男主使用变色喵
}

return CatCardConst