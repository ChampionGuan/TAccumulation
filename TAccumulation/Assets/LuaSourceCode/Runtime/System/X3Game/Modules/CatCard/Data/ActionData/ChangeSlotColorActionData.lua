---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by hongyun.
--- DateTime: 2022/6/9 11:25
---

---@type CatCardConst
local CatCardConst = require("Runtime.System.X3Game.Modules.CatCard.Data.CatCardConst")
---@type CatCard.BaseActionData
local BaseActionData = require(CatCardConst.BASE_ACTION_DATA_PATH)

----修改格子上的颜色的ActionData
---@class CatCard.ChangeSlotColorActionData:CatCard.BaseActionData
local ChangeSlotColorActionData = class("ChangeSlotColorActionData",BaseActionData)

function ChangeSlotColorActionData:ctor()
    BaseActionData.ctor(self)

    ---格子索引
    ---@type int
    self.slotIndex = nil

    ---单轮动画时间
    ---@type number
    self.animTime = nil

    ---循环轮数
    ---@type int
    self.loopCount = nil
end

---@param slotIndex int
function ChangeSlotColorActionData:SetSlotIndex(slotIndex)
    self.slotIndex = slotIndex
end

---@return int
function ChangeSlotColorActionData:GetSlotIndex()
    return self.slotIndex
end

---@param animTime number
function ChangeSlotColorActionData:SetAnimTime(animTime)
    self.animTime = animTime or CatCardConst.FuncCardTypeConf[CatCardConst.FuncCardType.DISCOLORCARD].anim_time
end

---@return number
function ChangeSlotColorActionData:GetAnimTime()
    return self.animTime
end

---@param loopCount int
function ChangeSlotColorActionData:SetLoopCount(loopCount)
    self.loopCount = loopCount or CatCardConst.FuncCardTypeConf[CatCardConst.FuncCardType.DISCOLORCARD].loop_count
end

---@return int
function ChangeSlotColorActionData:GetLoopCount()
    return self.loopCount
end

---@param slotIndex int
function ChangeSlotColorActionData:Set(slotIndex,animTime,loopCount)
    self:SetSlotIndex(slotIndex)
    self:SetAnimTime(animTime)
    self:SetLoopCount(loopCount)
end

---@param params pbcmessage.MiaoAction | int[]
function ChangeSlotColorActionData:SetParam(params)
    BaseActionData.SetParam(self,params)

    ---服务端发的格子索引需要+1
    self:Set(params[1])
end

return ChangeSlotColorActionData