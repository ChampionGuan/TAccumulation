---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by jiaozhu.
--- DateTime: 2022/7/10 18:27
---
---@class InputEffectMgr
local InputEffectMgr = {}
local csInputEffectMgr = CS.X3Game.InputEffectMgr

---@class InputEffectMgr.EffectType
---@field Click int
---@field Drag int
---@field LongPress int
---@type InputEffectMgr.EffectType
InputEffectMgr.EffectType = csInputEffectMgr.EffectType

local isEnable = true

---@param effectType InputEffectMgr.EffectType
---@param effectName string
---@param order int
---@param isAdditive boolean
function InputEffectMgr.ShowEffect(effectType,effectName,order,isAdditive)
    isAdditive = isAdditive or false
    effectName = effectName or ""
    order = order or 0
    effectType = effectType or InputEffectMgr.EffectType.Click
    csInputEffectMgr.ShowEffect(effectType,effectName,order,isAdditive)
end

---@param clickEffect string
---@param dragEffect string
---@param longPressEffect string
function InputEffectMgr.SetEffect(clickEffect,dragEffect,longPressEffect)
    csInputEffectMgr.SetEffect(clickEffect,dragEffect,longPressEffect)
end

---@param effectObj GameObject
---@param effectName
function InputEffectMgr.SetEffectTemplate(effectObj,effectName)
    if string.isnilorempty(effectName) then
        csInputEffectMgr.SetTemplate(effectObj)
    else
        csInputEffectMgr.SetTemplate(effectName,effectObj)
    end
end

---@param effectName string
function InputEffectMgr.RemoveTemplate(effectName)
    csInputEffectMgr.RemoveTemplate(effectName)
end

---设置输入特效是否有效
---@param _isEnable boolean
function InputEffectMgr.SetEnable(_isEnable)
    isEnable = _isEnable
    csInputEffectMgr.IsEnable = isEnable
end

---@return boolean
function InputEffectMgr.IsEnable()
    return isEnable
end

---@param rootTrans Transform
---@param poolTrans Transform
function InputEffectMgr.SetRootTrans(rootTrans,poolTrans)
    csInputEffectMgr.SetRootTrans(rootTrans,poolTrans)
end

---初始化
function InputEffectMgr.Init()
    local asyncDefault = true--Application.GetPlatform() == CS.UnityEngine.RuntimePlatform.IPhonePlayer
    local isAsync = PlayerPrefs.GetBool("AsyncWarmUp", asyncDefault)
    local isFirstInstall = PlayerPrefs.GetBool(GameConst.FIRST_INSTALL, true)
    InputEffectMgr.SetEnable((not isFirstInstall) or isAsync)
    InputEffectMgr.Clear()
    UIMgr.Open(UIConf.InputEffectWnd)
end

---清理
function InputEffectMgr.Clear()
    if not csInputEffectMgr.Instance then return end
    csInputEffectMgr.Instance:Clear()
end

return InputEffectMgr