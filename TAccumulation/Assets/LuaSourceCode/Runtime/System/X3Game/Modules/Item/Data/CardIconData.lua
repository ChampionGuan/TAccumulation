---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by canghai.
--- DateTime: 2022/8/31 10:22
---

---@class CardIconData
---@field owner Item.ItemData 公共数据所在的地方
---@field isDirty boolean
---@field cardBaseInfoConfig cfg.CardBaseInfo
---@field cardIconSpecialData table
local CardIconData = class("CardIconData")

--- 修改 CardIconData 属性的方法集合
--- 数据修改后需要根据情况决定UI是否需要更新
--- @alias SetDataFunc fun(itemData:CardIconData, value:any):void
--- @type table<ItemConst.DataEnum, SetDataFunc>
CardIconData.SetDataFuncDic = {
    ---@param data CardIconData
    ---@param value table
    [ItemConst.DataEnum.CARD_ICON_SPECIAL_DATA] = function(data, value)
        data.cardIconSpecialData = value
        data.isDirty = true
    end,
}

function CardIconData:InitData()
    ---@type Item.ItemData
    local itemData = self.owner
    self.cardBaseInfoConfig = LuaCfgMgr.Get("CardBaseInfo", itemData.configId)
end

function CardIconData:ctor()
    self.owner = nil
    self.isDirty = true
    self.cardBaseInfoConfig = nil
    self.cardIconSpecialData = nil
end

function CardIconData:Clear()
    self.owner = nil
    self.isDirty = true
    self.cardBaseInfoConfig = nil
    self.cardIconSpecialData = nil
end

return CardIconData