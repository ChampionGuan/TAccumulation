---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by canghai.
--- DateTime: 2022/8/31 10:22
---

---@class CardChipData
---@field owner              Item.ItemData    公共数据所在的地方
---@field isDirty            boolean
---@field cardChip_Num       string
---@field connectID          number           关联ID
---@field connectItemConfig  cfg.Item
---@field cardBaseInfoConfig cfg.CardBaseInfo
local CardChipData = class("CardChipData")

--- 修改 CardChipData 属性的方法集合
--- 数据修改后需要根据情况决定UI是否需要更新
--- @alias SetDataFunc fun(itemData:CardChipData, value:any):void
--- @type table<ItemConst.DataEnum, SetDataFunc>
CardChipData.SetDataFuncDic = {
    ---@param data CardChipData
    ---@param value string
    [ItemConst.DataEnum.NUM] = function(data, value)
        if data.cardChip_Num ~= value then
            data.cardChip_Num = value
            data.isDirty = true
        end
    end,
}

function CardChipData:InitData()
    ---@type Item.ItemData
    local itemData = self.owner
    self.connectID = itemData.itemConfig.ConnectID
    self.connectItemConfig = LuaCfgMgr.Get("Item", self.connectID)
    self.cardBaseInfoConfig = LuaCfgMgr.Get("CardBaseInfo", self.connectID)
end

function CardChipData:ctor()
    self.owner = nil
    self.isDirty = true
    self.cardChip_Num = nil
    self.connectID = nil
    self.connectItemConfig = nil
    self.cardBaseInfoConfig = nil
end

function CardChipData:Clear()
    self.owner = nil
    self.isDirty = true
    self.cardChip_Num = nil
    self.connectID = nil
    self.connectItemConfig = nil
    self.cardBaseInfoConfig = nil
end

return CardChipData