---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by canghai.
--- DateTime: 2023/6/15 12:03
---

---@class CoreIconData
---@field owner Item.ItemData    公共数据所在的地方
---@field isDirty boolean
---@field gemCoreBaseInfoConfig cfg.GemCoreBaseInfo
---@field level string Core等级，外界传入
---@field insId int Core实例Id，外界传入
local CoreIconData = class("CoreIconData")

--- 修改 CoreIconData 属性的方法集合
--- 数据修改后需要根据情况决定UI是否需要更新
--- @alias SetDataFunc fun(itemData:CoreIconData, value:any):void
--- @type table<ItemConst.DataEnum, SetDataFunc>
CoreIconData.SetDataFuncDic = {
    ---@param data CoreIconData
    ---@param value string
    [ItemConst.DataEnum.CORE_ICON_LEVEL] = function(data, value)
        if data.level ~= value then
            data.level = value
            data.isDirty = true
        end
    end,

    ---@param data CoreIconData
    ---@param value int
    [ItemConst.DataEnum.CORE_ICON_INS_ID] = function(data, value)
        if data.insId ~= value then
            data.insId = value
            data.isDirty = true
        end
    end,
}

function CoreIconData:InitData()
    ---@type Item.ItemData
    local itemData = self.owner
    self.gemCoreBaseInfoConfig = LuaCfgMgr.Get("GemCoreBaseInfo", itemData.configId)
end

function CoreIconData:ctor()
    self.owner = nil
    self.isDirty = true
    self.gemCoreBaseInfoConfig = nil
    self.level = nil
    self.insId = 0
end

function CoreIconData:Clear()
    self.owner = nil
    self.isDirty = true
    self.gemCoreBaseInfoConfig = nil
    self.level = nil
    self.insId = 0
end

return CoreIconData