---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by junjun003.
--- DateTime: 2023/4/14 10:39
---娃娃机按钮控制器
---@class BtnController : GameObjectCtrl
local BtnController = class("BtnController", GameObjectCtrl)

---
function BtnController:Init()
    ---@type Vector3
    self.oriPos = GameObjectUtil.GetPosition(self.gameObject)
    ---@type float 按钮按下距离
    self.btnPressedY = 0
end

---设置按钮按下的幅度
---@param offsetY float
function BtnController:SetBtnPressedY(offsetY)
    self.btnPressedY = offsetY
end

---@param upDelay float
function BtnController:PressOnce(upDelay)
    self:OnBtnDown()
    TimerMgr.AddTimer(upDelay, self.OnBtnUp, self)
end

---
function BtnController:OnBtnDown()
    GameObjectUtil.SetPosition(self.gameObject, self.oriPos.x, self.oriPos.y + self.btnPressedY, self.oriPos.z)
end

---
function BtnController:OnBtnUp()
    GameObjectUtil.SetPosition(self.gameObject, self.oriPos.x, self.oriPos.y, self.oriPos.z)
end

return BtnController