---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by changkong.
--- DateTime: 2021/8/14 12:07
---

require("Runtime.System.X3Game.Modules.Timeline.Context.DefaultTimelineContext")
require("Runtime.System.X3Game.Modules.Timeline.Context.BattleTimelineContext")
require("Runtime.System.X3Game.Modules.Timeline.Feature.BattleEventFeature")
require("Runtime.System.X3Game.Modules.Timeline.Feature.BattlePerformFeature")
require("Runtime.System.X3Game.Modules.Timeline.Feature.BattleResFeature")
require("Runtime.System.X3Game.Modules.Timeline.Feature.ClockFeature")
require("Runtime.System.X3Game.Modules.Timeline.Feature.MainlineResFeature")
require("Runtime.System.X3Game.Modules.Timeline.Feature.MaterialAnimFeature")
require("Runtime.System.X3Game.Modules.Timeline.Feature.TimelineUtil")
require("Runtime.System.X3Game.Modules.Timeline.Feature.TrackBindFeature")

---@class TimelineType timeline类型
TimelineType = {
    Mainline = 1, -- 主线
    BattleActor = 2, -- 战斗人物释放
    BattlePerform = 3, -- 战斗Client释放表演
    BattleSceneEffect = 4,  -- 战斗直接放在场景中的timeline（不绑定任何人物）
}

---@class TimelineContextType  timeline外部依赖环境类型
TimelineContextType = {
    Default = 1, -- 默认
    Battle = 2, -- 战斗
}

---@class TimelineState tiemline生命周期状态
TimelineState = {
    Created = 1, -- 创建后Build之前
    Builded = 2, -- build后播放前
    Playing = 3, -- 播放中
    Destroy = 4, -- 已销毁
}

---@class TimelineFeatureType timelineFeature类型
TimelineFeatureType = {
    Base = 1,
    BattleRes = 2, -- 战斗资源加载
    MainlineRes = 3, -- 主线资源加载
    BattleEvent = 4, -- 战斗eventTimeline通用处理
    BattlePerform = 5, -- 战斗表演特殊逻辑
    BattlePerformEvent = 6, -- 战斗表演eventTimeline特殊逻辑
    MaterialAnim = 7, -- 材质动画逻辑（从timelineBuild材质节点，挂到人物树上）
    TrackBindFeature = 8,  -- 动态绑定轨道对象处理
}

---@class TimelineType2Features timeline类型对应的feature列表。不同类型的TImeline会挂载不同Feature
TimelineType2Features = {
    [TimelineType.Mainline] = {
        TimelineFeatureType.MainlineRes,
        TimelineFeatureType.TrackBindFeature,
        TimelineFeatureType.MaterialAnim,
    },
    [TimelineType.BattleActor] = {
        TimelineFeatureType.BattleRes,
        TimelineFeatureType.BattleEvent,
        TimelineFeatureType.TrackBindFeature,
        TimelineFeatureType.MaterialAnim,
    },
    [TimelineType.BattlePerform] = {
        TimelineFeatureType.BattleRes,
        TimelineFeatureType.BattlePerform,
        TimelineFeatureType.BattlePerformEvent,
        TimelineFeatureType.TrackBindFeature,
    },
    [TimelineType.BattleSceneEffect] = {
        TimelineFeatureType.BattleRes,
        TimelineFeatureType.TrackBindFeature,
    },
}

---@class TimelineContextType2Class  timeline外部依赖环境类路径
TimelineContextType2ClassPath = {
    [TimelineContextType.Default] = "Runtime.System.X3Game.Modules.Timeline.Context.DefaultTimelineContext",
    [TimelineContextType.Battle] = "Runtime.System.X3Game.Modules.Timeline.Context.BattleTimelineContext",
}

---@class TimelineFeatureType2ClassPath 特性枚举对应类文件路径
TimelineFeatureType2ClassPath = {
    [TimelineFeatureType.Base] = "Runtime.System.X3Game.Modules.Timeline.Feature.BaseFeature",
    [TimelineFeatureType.BattleRes] = "Runtime.System.X3Game.Modules.Timeline.Feature.BattleResFeature",
    [TimelineFeatureType.MainlineRes] = "Runtime.System.X3Game.Modules.Timeline.Feature.MainlineResFeature",
    [TimelineFeatureType.BattleEvent] = "Runtime.System.X3Game.Modules.Timeline.Feature.BattleEventFeature",
    [TimelineFeatureType.BattlePerform] = "Runtime.System.X3Game.Modules.Timeline.Feature.BattlePerformFeature",
    [TimelineFeatureType.BattlePerformEvent] = "Runtime.System.X3Game.Modules.Timeline.Feature.BattlePerformEventFeature",
    [TimelineFeatureType.MaterialAnim] = "Runtime.System.X3Game.Modules.Timeline.Feature.MaterialAnimFeature",
    [TimelineFeatureType.TrackBindFeature] = "Runtime.System.X3Game.Modules.Timeline.Feature.TrackBindFeature",
}


---------------------------------- 下面的枚举定义是为了和C#层对应 ----------------------
-- 和C#层的枚举对应
---@class EStaticSlot
EStaticSlot = {
    Timeline = 0,
    Gameplay = 1,
    Battle = 2,
}

-- 和C#层的枚举对应
TrackExtType = {
    Default = 0,
    ChildAnim = 1, -- 子节点的特效Animation Track和K帧
    ChildEffect = 2, -- 子节点的特效(同一个Track下可以有多个相同的主体，但指向不同的主体是不行的)
    CreatureAnim = 3, -- 人物Animation Track(专指动作，需要绑定主体)
    CameraAnim = 4, -- 镜头的Animation Track(需要绑定主体)
    HookEffectAnim = 5, -- 挂接点下的特效Animation Track和K帧(需要绑定主体)
    HookEffect = 6, -- 挂接点下的特效(同一个Track下可以有多个相同的主体，但指向不同的主体是不行的)
    CameraHookEffect = 7, -- 镜头下挂载的特效(需要绑定主体)
    CameraHookEffectAnim = 8, -- 镜头下挂载的特效Animation Track和K帧(需要绑定主体)
    IsolateEffect = 9, -- 单独挂在Hierarchy上的特效(需要绑定主体)
    IsolateEffectAnim = 10, -- 单独挂在Hierarchy上的特效Animation Track和K帧(需要绑定主体)
    MainCameraAnim = 11, -- 镜头参数的K帧效果
    ShadowAnim = 12, -- 残影的K帧效果
    Creature_K_Anim = 13, -- 人物的K帧Animation Track（需要绑定主体）
}

-- 和C#层RoleType对应的枚举
---@class TrackBindRoleType
TrackBindRoleType = {
    None = 0,
    Female = 1,  -- 女主
    Male = 2,  -- 男主
    Monster = 3,  -- 怪物
}