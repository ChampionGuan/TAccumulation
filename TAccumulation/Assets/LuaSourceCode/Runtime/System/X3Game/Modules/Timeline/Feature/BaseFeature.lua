---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by changkong.
--- DateTime: 2021/8/14 12:11
---

---@class TimelineBaseFeature Timeline行为基类, 组合到Timeline对象上，原则上不同Feature互不引用，共享Timeline对象属性
local BaseFeature = XECS.class("BaseFeature")

---@param timeline Timeline
---@param context ITimelineContext
function BaseFeature:ctor(timeline, context)
    self.timeline = timeline
    self.context = context
end

------------------- 友元函数：由Timeline对象调用-----------------
function BaseFeature:Create()
    self:_OnCreate()
end

-- 设置完参数Build之前
---@return bool 是否成功
function BaseFeature:BeforeBuild()
    return self:_OnBeforeBuild()
end

-- build中
function BaseFeature:Build()
    return self:_OnBuild()
end

-- 设置完参数Build之后
---@return bool 是否成功
function BaseFeature:AfterBuild()
    return self:_OnAfterBuild()
end

-- build完毕开始播放之前
function BaseFeature:BeforePlay()
    self:_OnBeforePlay()
end

-- 打断行为发生时调用
function BaseFeature:Interrupt()
    self:_OnInterrupt()
end

-- 销毁
function BaseFeature:Destroy()
    self:_OnDestroy()
    self.timeline = nil
    self.context = nil
end
-----------------------------------------------------------------------

----------------------- 模板方法:由子类继承 ------------------------
function BaseFeature:_OnCreate()

end

---@return bool 是否成功
function BaseFeature:_OnBeforeBuild()
    return true
end

---@return bool 是否成功
function BaseFeature:_OnBuild()
    return true
end

---@return bool 是否成功
function BaseFeature:_OnAfterBuild()
    return true
end

function BaseFeature:_OnBeforePlay()

end

function BaseFeature:_OnInterrupt()

end

-- 出于性能考虑，_OnTick子类需要的话，自行编写
--function XXX:_OnTick(deltaTime)
--end

function BaseFeature:_OnDestroy()

end
-----------------------------

return BaseFeature