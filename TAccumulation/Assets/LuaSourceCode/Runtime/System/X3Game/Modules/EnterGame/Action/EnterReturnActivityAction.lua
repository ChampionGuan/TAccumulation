---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by jiantao.
--- DateTime: 2023/10/16 10:42
---
---@class EnterReturnActivityAction
local EnterReturnActivityAction = class("EnterReturnActivityAction", require("Runtime.System.X3Game.Modules.EnterGame.Action.BaseEnterGameAction"))

function EnterReturnActivityAction:CheckCondition()
    if BllMgr.GetReturnActivityBll():IsReturnActiveFirstEnter() then
        return true
    end
    return false
end

function EnterReturnActivityAction:EnterAction()
    if BllMgr.GetHeadIconBLL():IsShowLoading() then
        UICommonUtil.SetLoadingEnableWithOpenParam({
            MoveInCallBack = function()
                if self.callBack then
                    self.callBack()
                end
                GameStateMgr.Switch(GameState.ReturnActivity, true)
            end
        }, GameConst.LoadingType.FaceEditHeadIcon, true)
    else
        UICommonUtil.SetLoadingEnableWithOpenParam({
            MoveInCallBack = function()
                if self.callBack then
                    self.callBack()
                end
                GameStateMgr.Switch(GameState.ReturnActivity, true)
            end
        }, GameConst.LoadingType.Common, true)
    end

end

return EnterReturnActivityAction