---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by jiantao.
--- DateTime: 2023/4/14 15:58
---
---@class EnterMainHomeAction
local EnterMainHomeAction = class("EnterMainHomeAction", require("Runtime.System.X3Game.Modules.EnterGame.Action.BaseEnterGameAction"))

function EnterMainHomeAction:CheckCondition()
    return true
end

function EnterMainHomeAction:EnterAction()
    if BllMgr.GetHeadIconBLL():IsShowLoading() then
        UICommonUtil.SetLoadingEnableWithOpenParam({
            MoveInCallBack = function()
                if self.callBack then
                    self.callBack()
                end
                GameStateMgr.Switch(GameState.MainHome)
            end
        }, GameConst.LoadingType.FaceEditHeadIcon, true)
    else
        UICommonUtil.SetLoadingEnableWithOpenParam({
            MoveInCallBack = function()
                if self.callBack then
                    self.callBack()
                end
                GameStateMgr.Switch(GameState.MainHome)
            end
        }, GameConst.LoadingType.MainHome, true)
    end
    UICommonUtil.SetLoadingEnable(GameConst.LoadingType.Common, false)
end

return EnterMainHomeAction