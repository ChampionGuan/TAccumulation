---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by kaikai.
--- DateTime: 3/17/2022 11:59 AM
---

---@class X3AnimatorUtil
local X3AnimatorUtil = {}
local CS_X3AnimatorUtility = CS.X3Game.X3AnimatorUtility

function X3AnimatorUtil.Play(obj, stateName, wrapMode, initialTime)

end

---设置X3Animator的AssetId
---@param obj UObject
---@param assetId int
---@return boolean
function X3AnimatorUtil.SetAssetId(obj, assetId)
    local ret = CS_X3AnimatorUtility.SetAssetId(obj, assetId)
    return ret
end

---设置X3Animator的Tag
---@param obj UObject
---@param tag int
---@return boolean
function X3AnimatorUtil.SetTag(obj, tag)
    local ret = CS_X3AnimatorUtility.SetTag(obj, tag)
    return ret
end

---设置X3Animator角色的Local Position
---@param obj UObject
---@param ... any XYZ|Vector3|float
function X3AnimatorUtil.SetLocalPosition(obj, ...)
    local x, y, z = GameUtil.GetVectorXYZ(...)
    CS_X3AnimatorUtility.SetLocalPosition(obj, x, y, z)
end

---设置X3Animator角色的Local Rotation
---@param obj UObject
---@param ... any XYZ|Vector3|float
function X3AnimatorUtil.SetLocalRotation(obj, ...)
    local x, y, z = GameUtil.GetVectorXYZ(...)
    CS_X3AnimatorUtility.SetLocalRotation(obj, x, y, z)
end

---设置X3Animator角色的Local Scale
---@param obj UObject
---@param ... any XYZ|Vector3|float
function X3AnimatorUtil.SetLocalScale(obj, ...)
    local x, y, z = GameUtil.GetVectorXYZ(...)
    CS_X3AnimatorUtility.SetLocalScale(obj, x, y, z)
end

---获取X3Animator角色的World Position
---@param obj UObject
---@return float,float,float
function X3AnimatorUtil.GetPositionXYZ(obj)
    local x, y, z = CS_X3AnimatorUtility.GetPositionXYZ(obj)
    return x, y, z
end

---设置X3Animator角色的World Position
---@param obj UObject
---@param ... any XYZ|Vector3|float
function X3AnimatorUtil.SetPosition(obj, ...)
    local x, y, z = GameUtil.GetVectorXYZ(...)
    CS_X3AnimatorUtility.SetPosition(obj, x, y, z)
end

---设置X3Animator角色的World Rotation
---@param obj UObject
---@param ... any XYZ|Vector3|float
function X3AnimatorUtil.SetRotation(obj, ...)
    local x, y, z = GameUtil.GetVectorXYZ(...)
    CS_X3AnimatorUtility.SetRotation(obj, x, y, z)
end

---设置X3Animator是否开启读取表演库数据
---@param obj UObject
---@param enabled boolean 是否开启
---@param withErrorLog boolean 找不到对应的X3Animator组件时是否有错误日志（默认无）
---@return bool 本次执行是否成功
function X3AnimatorUtil.SetDataProviderEnabled(obj, enabled, withErrorLog)
    withErrorLog = withErrorLog or false
    local ret = CS_X3AnimatorUtility.SetDataProviderEnabled(obj, enabled, withErrorLog)
    return ret
end

---清理X3Animator已读取表演库数据的缓存
---@param obj UObject
---@param withErrorLog boolean 找不到对应的X3Animator组件时是否有错误日志（默认无）
---@return bool 本次执行是否成功
function X3AnimatorUtil.ClearExternalStateCache(obj, withErrorLog)
    withErrorLog = withErrorLog or false
    local ret = CS_X3AnimatorUtility.ClearExternalStateCache(obj, withErrorLog)
    return ret
end

function X3AnimatorUtil.Init()
    local x3AnimatorDataProvider = require("Runtime.System.X3Game.Modules.CutSceneAndAnimation.X3AnimatorDataProvider").new()
    CS.X3Game.X3Animator.Initialize(x3AnimatorDataProvider)
    CS.X3Game.X3Animator.SetEventDelegate(require("Runtime.System.X3Game.Modules.CutSceneAndAnimation.IX3AnimatorEventDelegate"))
end

function X3AnimatorUtil.Clear()
    CS.X3Game.X3Animator.UnInitialize()
    CS.X3Game.X3Animator.SetEventDelegate(nil)
end

function X3AnimatorUtil.Destroy()
    CS.X3Game.X3Animator.UnInitialize()
    CS.X3Game.X3Animator.SetEventDelegate(nil)
end

return X3AnimatorUtil