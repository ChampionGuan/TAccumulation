---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by fusu.
--- DateTime: 2023/4/6 14:07
---
local AccompanyConst = require("Runtime.System.X3Game.Modules.Accompany.Data.AccompanyConst")
local AccompanyBaseAction = require("Runtime.System.X3Game.Modules.Accompany.Action.AccompanyBaseAction")

---@class AccompanyLoadActorAction : AccompanyBaseAction
local AccompanyLoadActorAction = class("AccompanyLoadActorAction" , AccompanyBaseAction)

function AccompanyLoadActorAction:Init(actionParam)
    ---@type AccompanyConst.StateType
    self._stateType = actionParam[1]
end

function AccompanyLoadActorAction:OnConditionPass()
    ---@type AccompanyActorCtrl
    local actorCtrl = self.accMgr:GetCtrl(AccompanyConst.CtrlType.ActorCtrl)
    actorCtrl:RefreshActor(self._stateType ,function() 
        self:OnFinish()
    end)
end

return AccompanyLoadActorAction