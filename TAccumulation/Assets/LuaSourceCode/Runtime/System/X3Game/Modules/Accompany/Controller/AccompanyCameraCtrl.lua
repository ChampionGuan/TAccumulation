---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by fusu.
--- DateTime: 2023/4/4 19:58
---

local AccompanyBaseCtrl = require("Runtime.System.X3Game.Modules.Accompany.Controller.AccompanyBaseCtrl")
local AccompanyConst = require("Runtime.System.X3Game.Modules.Accompany.Data.AccompanyConst")
---@class AccompanyCameraCtrl:AccompanyBaseCtrl 所有的Action管理
local AccompanyCameraCtrl = class("AccompanyCameraCtrl", AccompanyBaseCtrl)

function AccompanyCameraCtrl:Init()
    ---@type AutoSyncMode 陪伴相机
    self._virtualCamera = nil
    EventMgr.AddListener(AccompanyConst.Event.ON_CREATE_ACCOMPANY_CAMERA, self.OnCreteAccCamera , self)
end

function AccompanyCameraCtrl:OnDestroy()
    AccompanyCameraCtrl.super.OnDestroy(self)
    if self._virtualCamera then
        GlobalCameraMgr.DestroyVirtualCamera(self._virtualCamera)
    end
    self._virtualCamera = nil
end

function AccompanyCameraCtrl:OnCreteAccCamera()
    self._virtualCamera = GlobalCameraMgr.CreateVirtualCamera(CameraModePath.AutoSyncMode)
end

return AccompanyCameraCtrl