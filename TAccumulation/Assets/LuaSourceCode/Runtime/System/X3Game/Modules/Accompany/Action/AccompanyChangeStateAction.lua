---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by fusu.
--- DateTime: 2023/4/6 14:07
---

local AccompanyConst = require("Runtime.System.X3Game.Modules.Accompany.Data.AccompanyConst")
local AccompanyBaseAction = require("Runtime.System.X3Game.Modules.Accompany.Action.AccompanyBaseAction")

---@class AccompanyChangeStateAction : AccompanyBaseAction
local AccompanyChangeStateAction = class("AccompanyChangeStateAction" , AccompanyBaseAction)

function AccompanyChangeStateAction:Init(actionParam)
    ---第一个state名
    ---@type string
    self._stateType1 = actionParam[1]
    ---第二个state名
    ---@type string
    self._stateType2 = actionParam[2]
end

function AccompanyChangeStateAction:OnConditionPass()
    self:OnFinish()
    if not string.isnilorempty(self._stateType1) then
        ---@type AccompanyStateCtrl
        local stateCtrl = self.accMgr:GetCtrl(AccompanyConst.CtrlType.StateCtrl)
        stateCtrl:ChangeState(self._stateType1)
    end
end

function AccompanyChangeStateAction:OnConditionNoPass()
    self:OnFinish()
    if not string.isnilorempty(self._stateType2) then
        local stateCtrl = self.accMgr:GetCtrl(AccompanyConst.CtrlType.StateCtrl)
        stateCtrl:ChangeState(self._stateType2)
    end
end

return AccompanyChangeStateAction