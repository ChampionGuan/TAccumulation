---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by fusu.
--- DateTime: 2023/4/6 14:07
---

local AccompanyConst = require("Runtime.System.X3Game.Modules.Accompany.Data.AccompanyConst")
local AccompanyBaseAction = require("Runtime.System.X3Game.Modules.Accompany.Action.AccompanyBaseAction")
---@type MainHome.MainHomeConst
local MainHomeConst = require("Runtime.System.X3Game.Modules.MainHome.Data.MainHomeConst")
---@class AccompanyBackToMainHomeAction : AccompanyBaseAction
local AccompanyBackToMainHomeAction = class("AccompanyBackToMainHomeAction" , AccompanyBaseAction)

function AccompanyBackToMainHomeAction:Init(actionParam)
end

---Action条件不通过执行
function AccompanyBackToMainHomeAction:OnConditionPass()
    UICommonUtil.WhiteScreenIn(function()
        self.accMgr.accBll:StopAccompany(true)
        BllMgr.GetMainHomeBLL():JumpMode(nil , nil , false , false)
        EventMgr.AddListenerOnce(MainHomeConst.Event.MAIN_HOME_ACTOR_LOAD_SUCCESS, function()
            UICommonUtil.WhiteScreenOut()
        end)
    end)
end

return AccompanyBackToMainHomeAction