---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by fusu.
--- DateTime: 2023/4/6 14:07
---
local AccompanyConst = require("Runtime.System.X3Game.Modules.Accompany.Data.AccompanyConst")
local AccompanyBaseAction = require("Runtime.System.X3Game.Modules.Accompany.Action.AccompanyBaseAction")

---@class AccompanySetActorPosAndRotAction : AccompanyBaseAction
local AccompanySetActorPosAndRotAction = class("AccompanySetActorPosAndRotAction" , AccompanyBaseAction)

function AccompanySetActorPosAndRotAction:Init(actionParam)
end

function AccompanySetActorPosAndRotAction:OnConditionPass()
    ---@type AccompanyActorCtrl
    local actorCtrl = self.accMgr:GetCtrl(AccompanyConst.CtrlType.ActorCtrl)
    local pos = BllMgr.GetMainHomeBLL():GetData():GetRolePosition()
    actorCtrl:SetActorPosition(pos)
    local rot = BllMgr.GetMainHomeBLL():GetData():GetRoleRotation()
    actorCtrl:SetActorRotation(rot)

    self:OnFinish()
end

return AccompanySetActorPosAndRotAction