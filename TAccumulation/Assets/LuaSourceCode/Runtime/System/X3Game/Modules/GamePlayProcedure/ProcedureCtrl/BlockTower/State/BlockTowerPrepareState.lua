---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by junjun003.
--- DateTime: 2022/6/17 19:41
---

local Base = require("Runtime.System.X3Game.Modules.GamePlayProcedure.ProcedureCtrl.GamePlayState")
---@class BlockTowerPrepareState
local BlockTowerPrepareState = class("BlockTowerPrepareState", Base)

function BlockTowerPrepareState:OnEnter()
    self.super.OnEnter(self)
    self.owner:CreateGame()
    self.owner:CheckEventToPlay(handler(self.owner, self.owner.GotoNextState), false)
end

---@return string
function BlockTowerPrepareState:GotoNextState()
    if self.owner:GetGameData().rollResult ~= 0 then
        self.owner:TurnStart()
    else
        self.owner:RollBlockTower()
    end
end

return BlockTowerPrepareState