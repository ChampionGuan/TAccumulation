---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by junjun003.
--- DateTime: 2022/7/27 18:07
---

local Base = require("Runtime.System.X3Game.Modules.GamePlayProcedure.ProcedureCtrl.GamePlayState")
---@class UFOCatcherCatchingState : GamePlayState
local UFOCatcherCatchingState = class("UFOCatcherCatchingState", Base)

---@type UFOCatcherBLL
local BLL = BllMgr.GetUFOCatcherBLL()

---状态进入
function UFOCatcherCatchingState:OnEnter()
    EventMgr.Dispatch("UFOCatcherPanel_Show")
    EventMgr.Dispatch("RefreshCatchTimeLimit", 0)
    BLL.ufoCatcherController:SwitchCatchButtonEffect(false)
    self.owner:ChangeCatchPara()
    self.owner:DisableGameControl()
    self.owner:ClearBetweenState()
    self.owner:CheckEventToPlay(nil, false)
end

---状态进入
function UFOCatcherCatchingState:GotoNextState()
    self.owner:ChangeState(UFOCatcherGameState.CatchingUp)
end

return UFOCatcherCatchingState