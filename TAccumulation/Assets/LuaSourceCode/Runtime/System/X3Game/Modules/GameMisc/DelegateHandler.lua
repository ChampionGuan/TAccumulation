---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by jiaozhu.
--- DateTime: 2022/8/30 16:26
---
---清理lua注入到cs的委托
---@class DelegateHandler
local DelegateHandler = {}

---初始化相关委托
function DelegateHandler.OnInit()
    local IUISystemEventDelegate = require("Runtime.System.Framework.GameBase.UISystem.Interface.IUISystemEventDelegate")
    CS.PapeGames.X3.X3Lua.SetDelegate(require("Runtime.System.X3Game.Modules.GameMisc.IX3LuaGameDelegate"))
    CS.X3Game.GameMgr.SetDelegate(require("Runtime.System.X3Game.Modules.GameMisc.GameMgr"))
    CS.PapeGames.X3UI.UISystem.EventDelegate = IUISystemEventDelegate
    CS.UnityEngine.UI.UGUIEntry.EventDelegate = IUISystemEventDelegate
    CS.X3Game.X3GameUIWidgetEntry.EventDelegate = IUISystemEventDelegate
    CS.TMPro.TMPEntry.EventDelegate = IUISystemEventDelegate
    CS.PapeGames.X3UI.UISystem.LocaleDelegate = require("Runtime.System.Framework.GameBase.UISystem.Interface.UILocaleDelegate")
    CS.PapeGames.X3.AssetReplaceCtrl.AssetReplaceDelegate = require("Runtime.System.X3Game.Modules.GameMisc.AssetReplaceDelegate")
end

---清理相关委托
function DelegateHandler.OnClear()
    --region GameMgr/X3Lua相关
    CS.PapeGames.X3.X3Lua.SetDelegate(nil)
    CS.X3Game.GameMgr.SetDelegate(nil)
    --endregion
    --region UISystemDelegate
    CS.PapeGames.X3UI.UISystem.EventDelegate = nil
    CS.PapeGames.X3UI.UISystem.LocaleDelegate = nil
    CS.UnityEngine.UI.UGUIEntry.EventDelegate = nil
    CS.X3Game.X3GameUIWidgetEntry.EventDelegate = nil
    CS.TMPro.TMPEntry.EventDelegate = nil
    --endregion
    --region 女主证件照替换
    CS.PapeGames.X3.AssetReplaceCtrl.AssetReplaceDelegate = nil
    --endregion
    --region 系统解锁
    CS.X3Game.SystemUnlock.RemoveListener()
    --endregion
    CS.PapeGames.X3UI.X3InputField.OnEndEditPostProcess = nil

    --region FSMMaker
    CS.PapeGames.FSMMaker.Runtime.FSMMgr.SetDelegate(nil)
    --endregion
end

return DelegateHandler