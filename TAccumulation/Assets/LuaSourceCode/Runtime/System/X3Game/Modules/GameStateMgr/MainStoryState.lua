---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by Muchen.
--- DateTime: 2021/5/18 14:15
---

---@class MainStoryState
local MainStoryState = class("MainStoryState", require("Runtime.System.X3Game.Modules.GameStateMgr.BaseGameState"))

function MainStoryState:ctor()
    self.Name = "MainStory"
end

function MainStoryState:OnEnter(prevStateName,stageId,isBefore)
    self.super.OnEnter(self)
    CutSceneMgr.SetDisableExcludeFromDOF(true)
    ChapterStageManager.InitMainStory(stageId,isBefore)
    UIMgr.Open(UIConf.SpecialDatePlayWnd)
end

function MainStoryState:OnExit(nextStateName)
    self.super.OnExit(self)
    ChapterStageManager.ResMainStory()
    CutSceneMgr.SetDisableExcludeFromDOF(false)
    GameSoundMgr.SetAutoMode(true)
end

function MainStoryState:CanExit(nextStateName)
    return true
end

return MainStoryState