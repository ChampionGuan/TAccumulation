--- Generated by AutoGen
---
---@class MsgCmd_TaskFinishReply
local MsgCmd_TaskFinishReply = class("MsgCmd_TaskFinishReply", require("Runtime.System.Framework.GameBase.Misc.SimpleCommand"))

---Command执行
---@param data pbcmessage.TaskFinishReply
function MsgCmd_TaskFinishReply:Execute(data)
	SelfProxyFactory.GetTaskProxy():UpdateFinishTask(data.TaskIDList)
	local taskCfg=BllMgr.GetTaskBLL():GetTaskCfg(data.TaskIDList[1])
	if taskCfg~=nil then
		if taskCfg.TaskType==1 or taskCfg.TaskType==2 then
			UICommonUtil.ShowRewardPopTips(data.RewardList, 1)
		else
			UICommonUtil.ShowRewardPopTips(data.RewardList,2,nil,nil,X3_CFG_CONST.TASKREWARDSTACK)
		end
		--更新活动任务
		if taskCfg.TaskType == 9 then
			BllMgr.GetActivityCenterBLL():UpdateAllActivityItemRewardRp()
		end
	else
		UICommonUtil.ShowRewardPopTips(data.RewardList,2,nil,nil,X3_CFG_CONST.TASKREWARDSTACK)
	end
	EventMgr.Dispatch("TaskDataUpdate")
end

return MsgCmd_TaskFinishReply
