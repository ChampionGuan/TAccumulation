--- Generated by AutoGen
---
---@class MsgCmd_DecorationPrefabSaveReply
local MsgCmd_DecorationPrefabSaveReply = class("MsgCmd_DecorationPrefabSaveReply", require("Runtime.System.Framework.GameBase.Misc.SimpleCommand"))

---Command执行
---@param reply pbcmessage.DecorationPrefabSaveReply
function MsgCmd_DecorationPrefabSaveReply:Execute(data, cacheData)
    local collectData = BllMgr.GetCollectionRoomBLL():GetRoleCollectionData(cacheData.RoleID)
    local prefabMap = collectData.DecorationPrefabMap[cacheData.Id]
    local slotData = BllMgr.GetCollectionRoomBLL():GetSlot(cacheData.Id)
    if prefabMap then
        prefabMap.Id = cacheData.Id
        prefabMap.Url = cacheData.Url
        prefabMap.CollectionDecorationList = table.clone(collectData.CollectionDecorationList)
        prefabMap.CollectionPendantList = table.clone(collectData.CollectionPendantList)
        prefabMap.DecorationMap = table.clone(collectData.DecorationMap)
        prefabMap.Name = slotData:GetName()
    end
    local refreshData = { RoleID = cacheData.RoleID, InUsePrefab = 0, PrefabData = prefabMap, PushType = 1 }
    BllMgr.GetCollectionRoomBLL():CollectPrefabUpdateReply(refreshData)
    BllMgr.GetCollectionRoomBLL():DecorationPrefabSaveReply(data)
end

return MsgCmd_DecorationPrefabSaveReply
