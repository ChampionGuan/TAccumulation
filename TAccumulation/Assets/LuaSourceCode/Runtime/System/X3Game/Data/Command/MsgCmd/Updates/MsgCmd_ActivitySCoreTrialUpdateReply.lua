--- Generated by AutoGen
---
---@class MsgCmd_ActivitySCoreTrialUpdateReply
local MsgCmd_ActivitySCoreTrialUpdateReply = class("MsgCmd_ActivitySCoreTrialUpdateReply", require("Runtime.System.Framework.GameBase.Misc.SimpleCommand"))

---Command执行
---@param reply pbcmessage.ActivitySCoreTrialUpdateReply
function MsgCmd_ActivitySCoreTrialUpdateReply:Execute(reply)
    ---Insert Your Code Here!
    if reply then
        ---@type pbcmessage.Activity
        local tb = PoolUtil.GetTable()
        tb.ID = reply.ID
        tb.SCoreTrial = reply.Trial
        SelfProxyFactory.GetActivityCenterProxy():UpdateSingleActivity(tb)
        PoolUtil.ReleaseTable(tb)
        local active = SelfProxyFactory.GetActivityCenterProxy():GetActivityActiveState(reply.ID)
        BllMgr.GetActivityScoreTryBLL():UpdateRed(reply.ID, active)
        if #reply.RewardList > 0 then
            ErrandMgr.Add(X3_CFG_CONST.POPUP_SCORETRY_GETREWARD, { reply.RewardList, true })
        end
    end
end

return MsgCmd_ActivitySCoreTrialUpdateReply
