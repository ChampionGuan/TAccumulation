--- Generated by AutoGen
---
---@class MsgCmd_FriendDelReply
local MsgCmd_FriendDelReply = class("MsgCmd_FriendDelReply", require("Runtime.System.Framework.GameBase.Misc.SimpleCommand"))

---Command执行
---@param reply pbcmessage.FriendDelReply
function MsgCmd_FriendDelReply:Execute(reply)
    if reply then
        local proxy = SelfProxyFactory.GetFriendProxy()
        local delFriendList = reply.DelFriendList
        if delFriendList and #delFriendList > 0 then
            for _, userId in ipairs(delFriendList) do
                local friendedInfo = proxy:RemoveFriendedByUid(userId)
                if friendedInfo then
                    print("===删除好友成功===", friendedInfo.Uid)
                else
                    print("RecvMsg_FriendDelReply error, serverdata.unknown.userid:", userId)
                end
            end

            ---更新好友申请列表（删除好友）
            EventMgr.Dispatch("EVENT_REFRESH_FRIENDED_DELFRIEND")
            BllMgr.GetFriendBLL():CheckRed(false, true)
        else
            Debug.Log("RecvMsg_FriendDelReply error, serverdata.DelFriendList(List) = nilOrEmpty")
        end
    else
        Debug.Log("RecvMsg_FriendDelReply error, serverdata = nil")
    end
end

return MsgCmd_FriendDelReply
