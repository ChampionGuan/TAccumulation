---
--- Generated by EmmyLua(https:--github.com/EmmyLua)
--- Created by junjun003.
--- DateTime: 2022/4/11 15:46
---
---CustomRecord数据
---@class CustomRecordProxy
local CustomRecordProxy = class("CustomRecordProxy", BaseProxy)
local CustomRecordData = require("Runtime.System.X3Game.Data.DataProxy.Data.CustomRecordData")

---构造函数
function CustomRecordProxy:OnInit()
    ---@type CustomRecordData
    self.customRecordRoot = CustomRecordData.new()
end

---返回某个CustomRecord值
---@param customType int
---@return int
function CustomRecordProxy:GetCustomRecordValue(customType, ...)
    local customRecord = self:GetCustomRecord(customType, ...)
    if customRecord then
        return customRecord.value
    end
    return 0
end

---返回一条CustomRecord
---@param saveType int
---@return CustomRecordData
function CustomRecordProxy:GetCustomRecord(customType, ...)
    return self.customRecordRoot:GetCustomRecord(customType, ...)
end

---更新Record组数据
---@param customType int
---@param recordGroup pbcmessage.CustomRecord
---@return CustomRecordData, boolean
function CustomRecordProxy:UpdateCustomRecord(customType, customRecord)
    local customRecordData, isNew = self.customRecordRoot:AddCustomRecord(customType, table.unpack(customRecord.SubIDs))
    if isNew then
        customRecordData:Init(customType, customRecord.SubIDs)
    end
    customRecordData.value = customRecord.Value
    return customRecordData, isNew
end

--region 临时，从record.proto复制，未来会有自动从Proto导出枚举的功能
---@class DataSaveCustomType
DataSaveCustomType = {
    DataSaveCustomTypeNope = 0;
    DataSaveCustomTypeDailyDateBuyCount = 1; -- 日常约会购买次数记录
    DataSaveCustomTypeDailyDateEnterCount = 2; -- 日常约会进入次数记录
    DataSaveCustomTypeMainUIEventNum = 3; -- 主界面特殊事件触发次数记录
    DataSaveCustomTypeArenaFightCount = 4; -- 竞技场战斗次数
    DataSaveCustomTypeArenaRefreshOppCount = 5; -- 竞技场刷新对手次数
    DataSaveCustomTypeStageNum = 6; -- 关卡打了几次
    DataSaveCustomTypeStageBuyTimes = 7; -- 关卡购买次数
    DataSaveCustomTypeActivityDropMultiple  = 8;  -- 多倍奖励活动奖励次数
    DataSaveCustomTypeReturnStageDoubleDrop = 9;  -- 回流关卡双倍掉落次数统计（刷新周期内）
}
--endregion

return CustomRecordProxy