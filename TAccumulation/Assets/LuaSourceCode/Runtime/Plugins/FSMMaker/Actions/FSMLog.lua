---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by jiaozhu.
--- DateTime: 2023/9/22 20:29
---

--- 日志打印
---@class FSM.FSMLog:FSM.FSMAction
---@field msg FSM.FSMVar | string 日志内容
---@field logLevel FSM.FSMVar | int
local FSMLog = class("FSMLog", FSMAction)

function FSMLog:OnEnter()
    local logMsg = self.msg:GetValue()
    local logLevel = self.logLevel:GetValue()
    if logLevel == FSMConst.LogLevel.Error or logLevel == FSMConst.LogLevel.Assert or logLevel == FSMConst.LogLevel.Exception then
        self.context:LogError(logMsg)
    elseif self.logLevel:GetValue() == FSMConst.LogLevel.Log then
        self.context:Log(logMsg)
    elseif self.logLevel:GetValue() == FSMConst.LogLevel.Warning then
        self.context:LogWarning(logMsg)
    end
    self:Finish()
end

return FSMLog