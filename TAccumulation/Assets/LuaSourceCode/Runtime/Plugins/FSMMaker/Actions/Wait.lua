---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by jiaozhu.
--- DateTime: 2023/8/18 14:10
--- 延时等待
---@class FSM.Wait:FSM.FSMAction
---@field waitTime FSM.FSMVar | float 等待时长
---@field randomWait FSM.FSMVar | boolean 是否需要随机
---@field randomWaitMin FSM.FSMVar | float 最小值
---@field randomWaitMax FSM.FSMVar | float 最大值
local Wait = class("Wait", FSMAction)

function Wait:OnEnter()
    if self.randomWait:GetValue() == true then
        self.leftTime = self.context:Random(self.randomWaitMin:GetValue(), self.randomWaitMax:GetValue())
        self.waitTime:SetValue(self.leftTime)
    else
        self.leftTime = self.waitTime:GetValue()
    end
end

function Wait:OnUpdate()
    self.leftTime = self.leftTime - self.context:GetDeltaTime()
    if self.leftTime <= 0 then
        self:Finish()
    end
end

return Wait