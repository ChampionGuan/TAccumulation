---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by jiaozhu.
--- DateTime: 2023/8/19 11:18
--- 事件触发器
---@class FSM.FSMEvent:FSM.FSMAction
---@field eventName FSM.FSMVar | string 事件名称
---@field isGlobal FSM.FSMVar | boolean 是否是全局事件
---@field isGame FSM.FSMVar | boolean 是否广播给业务
local FSMEvent = class("FSMEvent", FSMAction)

function FSMEvent:OnEnter()
    local eventName = self.eventName:GetValue()
    if not string.isnilorempty(eventName) then
        if self.isGlobal:GetValue() == true or self.isGame:GetValue() then
            self.context:FireEvent(eventName, self.isGlobal:GetValue(), self.isGame:GetValue())
        else
            self.fsm:FireEvent(eventName)
        end
    end
    self:Finish()
end

return FSMEvent