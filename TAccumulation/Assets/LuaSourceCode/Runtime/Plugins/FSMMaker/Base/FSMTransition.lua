---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by jiaozhu.
--- DateTime: 2023/8/10 16:33
---
---@type FSM.FSMBase
local FSMBase = require(FSMConst.FSMBasePath)
---@class FSM.FSMTransition:FSM.FSMBase
local FSMTransition = class("FSMTransition", FSMBase)

function FSMTransition:ctor()

    ---过渡事件
    ---@private
    ---@type table<string,string>
    self.transitionMap = {}

end

---@param eventName string
---@return boolean
function FSMTransition:HasTransition(eventName)
    return eventName and (self.transitionMap[eventName] ~= nil)
end

---@param eventName string
---@param stateName string
function FSMTransition:Add(eventName, stateName)
    if self:HasTransition(eventName) then
        self.context:LogErrorFormat("[FSMTransition:Add] failed eventName=[%s],stateName=[%s]", eventName, stateName)
        return
    end
    self.transitionMap[eventName] = stateName
end

---@param eventName string
---@return string
function FSMTransition:GetStateName(eventName)
    return self.transitionMap[eventName]
end

function FSMTransition:OnDestroy()
    table.clear(self.transitionMap)
end

return FSMTransition