---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by chaoguan.
--- DateTime: 2020/12/10 16:31
---

local AICondition = require("Runtime.Plugins.AIDesigner.Base.AITask").AICondition

---值比较，float1与float2大小比较
---@class SystemAI.FloatComparison:AICondition
---@field operation ComparisonOperation|Int
---@field float1 AIVar|Float
---@field float2 AIVar|Float
local FloatComparison = AIUtil.class("FloatComparison", AICondition)

function FloatComparison:OnUpdate()
    if self.operation == ComparisonOperation.LessThan then
        return self.float1:GetValue() < self.float2:GetValue() and AITaskState.Success or AITaskState.Failure
    elseif self.operation == ComparisonOperation.LessThanOrEqualTo then
        return self.float1:GetValue() <= self.float2:GetValue() and AITaskState.Success or AITaskState.Failure
    elseif self.operation == ComparisonOperation.EqualTo then
        return self.float1:GetValue() == self.float2:GetValue() and AITaskState.Success or AITaskState.Failure
    elseif self.operation == ComparisonOperation.NotEqualTo then
        return self.float1:GetValue() ~= self.float2:GetValue() and AITaskState.Success or AITaskState.Failure
    elseif self.operation == ComparisonOperation.GreaterThanOrEqualTo then
        return self.float1:GetValue() >= self.float2:GetValue() and AITaskState.Success or AITaskState.Failure
    elseif self.operation == ComparisonOperation.GreaterThan then
        return self.float1:GetValue() > self.float2:GetValue() and AITaskState.Success or AITaskState.Failure
    end
    return AITaskState.Failure
end

return FloatComparison