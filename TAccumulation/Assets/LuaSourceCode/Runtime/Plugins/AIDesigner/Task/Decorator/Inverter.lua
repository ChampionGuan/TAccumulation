---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by chaoguan.
--- DateTime: 2020/11/27 17:27
---

local AIDecorator = require("Runtime.Plugins.AIDesigner.Base.AITask").AIDecorator

---子节点返回值取反
---IconName:InverterIcon.png
---@class AI.Inverter:AIDecorator
local Inverter = AIUtil.class("Inverter", AIDecorator)

function Inverter:OnUpdate()
    if #self.children > 0 then
        if self.children[1].disabled or self.children[1].state == AITaskState.Failure then
            return AITaskState.Success
        elseif self.children[1].state == AITaskState.Success then
            return AITaskState.Failure
        elseif self.children[1].state == AITaskState.Running then
            return AITaskState.BlockingUp
        else
            return self.children[1].state
        end
    else
        return AITaskState.Success
    end
end

return Inverter