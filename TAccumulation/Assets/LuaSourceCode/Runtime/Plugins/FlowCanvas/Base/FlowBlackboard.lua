---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by jiaozhu.
--- DateTime: 2023/2/6 11:37
---
---@type FlowNode
local FlowNode = require("Runtime.Plugins.FlowCanvas.Base.FlowNode")
---@class FlowBlackboard:FlowNode
---@field private blackboard NodeCanvas.Framework.Blackboard
---@field private map table<string,any>
local FlowBlackboard = class("FlowBlackboard", FlowNode)
---@param key string
---@return any
function FlowBlackboard:GetVariableValue(key)
    local value = self.map[key]
    if value == nil then
        value = self.blackboard:GetVariableValue(key)
        self.map[key] = value
    end
    return value
end

---@param key string
---@param value any
function FlowBlackboard:SetVariableValue(key, value)
    self.map[key] = value
    self.blackboard:SetVariableValue(key, value)
end

---@param blackboard NodeCanvas.Framework.Blackboard
function FlowBlackboard:Set(blackboard)
    self.blackboard = blackboard
    self.map = PoolUtil.GetTable()
end

function FlowBlackboard:Clear()
    table.clear(self.map)
    self.blackboard = nil
end
return FlowBlackboard