---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by jiaozhu.
--- DateTime: 2023/2/4 19:56
---
---@type FlowNode
local FlowNode = require("Runtime.Plugins.FlowCanvas.Base.FlowNode")
---@class FlowListener:FlowNode
---@field eventName string 事件名称
---@field eventArgs table<string,any>
local FlowListener = class("FlowListener", FlowNode)

function FlowListener:OnEnter()

end

---解析变量
---@param variables FlowVar[]
---@param eventVariables FlowVar[]
function FlowListener:ParseVariable(variables, eventVariables)
    self:Parse(variables)
    if not self.eventArgs then
        self.eventArgs = PoolUtil.GetTable()
    end
    table.clear(self.eventArgs)
    self:Parse(eventVariables,self.eventArgs)
end

function FlowListener:OnClear()
    if self.eventArgs then
        PoolUtil.ReleaseTable(self.eventArgs)
        self.eventArgs = nil
    end
end

function FlowListener:OnEnter()

end

function FlowListener:OnUpdate()
    return FlowState.Running
end

return FlowListener