---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by jiaozhu.
--- DateTime: 2023/2/4 19:51

---@type FlowNode
local FlowNode = require("Runtime.Plugins.FlowCanvas.Base.FlowNode")
---@class FlowEvent:FlowNode
---@field eventName string 事件名称
---@field eventArgs table<string,any>
local FlowEvent = class("FlowEvent", FlowNode)

function FlowEvent:OnEnter()
    self.flowContext:Dispatch(self.eventName, self.eventArgs)
end

---解析变量
---@param variables FlowVar[]
function FlowEvent:ParseVariable(variables)
    if not self.eventArgs then
        self.eventArgs = PoolUtil.GetTable()
    end
    FlowNode.ParseVariable(self,variables, self.eventArgs)
end

function FlowEvent:OnUpdate()
    return FlowState.Success
end

return FlowEvent