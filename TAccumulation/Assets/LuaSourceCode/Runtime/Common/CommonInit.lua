---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by pc.
--- DateTime: 2021/3/9 18:02
--- lua 虚拟机通用初始化
local master = require("Runtime.Common.Master")
master.SetGlobalValuesWriteable(true)
require("Runtime.Common.Base.BaseInit")
require("Runtime.Common.Utils.UtilsInit")
Profiler = require("Runtime.Common.Profiler")
PerformanceLog = require('Runtime.Common.PerformanceLog')
require("Runtime.Common.Deferred")
LuaCfgMgr = require("Runtime.Common.LuaCfgMgr")
Debug = require("Runtime.Common.Debug")
--Debug.SetLogLevel(Debug.DebugLevel.Log)
LuaCfgMgr.SetLog(Debug.Log, Debug.LogWarning, Debug.LogError)
LuaCfgMgr.SetUnLoadFunc(master.UnLoadLua)
---配置表调试相关
if UNITY_EDITOR then
    if CS and CS.UnityEngine and CS.UnityEngine.PlayerPrefs then
        LuaCfgMgr.SetDebugEnable(CS.UnityEngine.PlayerPrefs.GetInt("CFG_DEBUG_ENABLE") == 1)
        --todo 初始化日志接口
        local debug = CS.PapeGames.X3.X3Debug
        Debug.SetLogger(debug.LogBase, debug.LogWarningBase, debug.LogErrorBase)
        Debug.SetLogEngine(debug)
    end
end