---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by canglan.
--- DateTime: 2021/11/18 11:04
---

local BubbleBase = require("Runtime.Battle.Behavior.UI.Bubble.BubbleBase")

---@class BossBubble:BubbleBase
local BossBubble = XECS.class("BossBubble", BubbleBase)
BossBubble.Type = BattleBubbleBehaviorType.BossBubble
local csBattleUtil = CS.X3Battle.BattleUtil
local csDummyType = CS.X3Battle.DummyType

function BossBubble:Awake()
    self._messageName = "OCX_monster_message"
    self._bubbleName = "OCX_monster_bubble"
    self._contentName = "OCX_monster_txt_content"
    BubbleBase.Awake(self)
end

function BossBubble:Start()
    BubbleBase.Start(self)
    self:_UpdateBoss()
end

function BossBubble:_UpdateBoss()
    self._actor = self._battleUI.boss
    if self._actor then
        self._actorTrans = self._actor:GetDummy()
        self._dialogTrans = csBattleUtil.GetActorDummy(self._actor, csDummyType.PointDialog)
    end
end

function BossBubble:ActorChange(actor, state)
    if self._battleUI.boss and self._battleUI.boss == actor then
        self:_UpdateBoss()
    end
end

return BossBubble